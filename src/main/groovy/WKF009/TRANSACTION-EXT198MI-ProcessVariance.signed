{"signature":"Aj2g+ikd2nodKLBHiHwa6DlfXYpQJle2KQS8sQTTUmcI2VEgPr/EqtxdMK0EFdSyMgjUwdCnQ3fPHpEpKiWRjqZmr6zAMzQkN7bMc4yxbWQOxGmaHVv68/UNHLeXbymzPvyEvnu0aCPj9+1kmDrq7aDk7pserTs31Xj6f9xplPD/lKQBrhL0Yn+ayzBIXAuHFeWfBihhtcb1ROe+yZ+TV+lQXShXR2R7eHSA4omokMU2cFvmj6L48n/VkN/yp5q15e+3FCJkvDuIecNL1Hz7M6f4UWyuqs+fGpFTpL3hev3jRUKTw/KeqT91v75/UO6lOvIxZ5f8Ca/pWvfv34svHFHne+QxFU+HO+ZOhQUTTui5rTRttBiHdDktgwWBqDPAmzMKeshH28akgGPMNGA/8+qQ4QWef+RLxR5t/FHkREZDlxaaMdWKB/9orMIkilf2XwycMHX2M2gKogvlJ/vFrQAMJlKD/K1X42xmaTBRYbNjsFRbUY62TJURTjOyElO0ksFmUdGSVmyiNvj4Ad9Ii6nLluMAOQc7Z+t01rVOTbAbN3t8Oi/O3TZDAkPfAPtOF/PfAvEpr8wUAFYW91zg+4MbbXPy75bliv7sYUNLPo6SvfFf++LOscEqO/s9th/+4ICzRXM2lgr4csmRq9YS9QhqKV6A05D3oibnNUMO+s4q","signedBy":"XtendM3 Team","signed":1697777696305,"message":"Signed by XtendM3 Team","extension":"{\"programModules\":{\"EXT198MI\":{\"program\":\"EXT198MI\",\"triggers\":{},\"transactions\":{\"ProcessVariance\":{\"sourceUuid\":\"deb5a11f-ccd8-4e09-95da-8c3408862174\",\"name\":\"ProcessVariance\",\"program\":\"EXT198MI\",\"description\":\"Process Invoice Variance Recodes\",\"active\":true,\"multi\":false,\"modified\":1695760731451,\"modifiedBy\":\"KVERCO\",\"outputFields\":[],\"inputFields\":[],\"utilities\":[]}},\"batches\":{}}},\"utilities\":{},\"sources\":{\"deb5a11f-ccd8-4e09-95da-8c3408862174\":{\"uuid\":\"deb5a11f-ccd8-4e09-95da-8c3408862174\",\"updated\":1697766072947,\"updatedBy\":\"KVERCO\",\"created\":1695620958580,\"createdBy\":\"KVERCO\",\"apiVersion\":\"0.21\",\"beVersion\":\"16.0.0.20230822184312.6\",\"codeHash\":\"6FE2F66534B5D0EC0839F40B91745D0A6DE60810B59B6D32691CE6E52DB1AECD\",\"code\":\"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKg0KICogICAgICAgICAgICAgICAgICAgICAgICAgICBOT1RJQ0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgKg0KICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKg0KICogICBUSElTIFNPRlRXQVJFIElTIFRIRSBQUk9QRVJUWSBPRiBBTkQgQ09OVEFJTlMgICAgICAgICAgICAgKg0KICogICBDT05GSURFTlRJQUwgSU5GT1JNQVRJT04gT0YgSU5GT1IgQU5EL09SIElUUyBBRkZJTElBVEVTICAgKg0KICogICBPUiBTVUJTSURJQVJJRVMgQU5EIFNIQUxMIE5PVCBCRSBESVNDTE9TRUQgV0lUSE9VVCBQUklPUiAgKg0KICogICBXUklUVEVOIFBFUk1JU1NJT04uIExJQ0VOU0VEIENVU1RPTUVSUyBNQVkgQ09QWSBBTkQgICAgICAgKg0KICogICBBREFQVCBUSElTIFNPRlRXQVJFIEZPUiBUSEVJUiBPV04gVVNFIElOIEFDQ09SREFOQ0UgV0lUSCAgKg0KICogICBUSEUgVEVSTVMgT0YgVEhFSVIgU09GVFdBUkUgTElDRU5TRSBBR1JFRU1FTlQuICAgICAgICAgICAgKg0KICogICBBTEwgT1RIRVIgUklHSFRTIFJFU0VSVkVELiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKg0KICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKg0KICogICAoYykgQ09QWVJJR0hUIDIwMjAgSU5GT1IuICBBTEwgUklHSFRTIFJFU0VSVkVELiAgICAgICAgICAgKg0KICogICBUSEUgV09SRCBBTkQgREVTSUdOIE1BUktTIFNFVCBGT1JUSCBIRVJFSU4gQVJFICAgICAgICAgICAgKg0KICogICBUUkFERU1BUktTIEFORC9PUiBSRUdJU1RFUkVEIFRSQURFTUFSS1MgT0YgSU5GT1IgICAgICAgICAgKg0KICogICBBTkQvT1IgSVRTIEFGRklMSUFURVMgQU5EIFNVQlNJRElBUklFUy4gQUxMIFJJR0hUUyAgICAgICAgKg0KICogICBSRVNFUlZFRC4gIEFMTCBPVEhFUiBUUkFERU1BUktTIExJU1RFRCBIRVJFSU4gQVJFICAgICAgICAgKg0KICogICBUSEUgUFJPUEVSVFkgT0YgVEhFSVIgUkVTUEVDVElWRSBPV05FUlMuICAgICAgICAgICAgICAgICAgKg0KICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKg0KICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICovDQogDQogaW1wb3J0IGdyb292eS5sYW5nLkNsb3N1cmU7DQogaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7DQogaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KIGltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOw0KIGltcG9ydCBncm9vdnkuanNvbi5Kc29uU2x1cnBlcjsNCiBpbXBvcnQgZ3Jvb3Z5Lmpzb24uSnNvbkV4Y2VwdGlvbg0KIGltcG9ydCBncm9vdnkueG1sLio7DQogaW1wb3J0IGdyb292eS51dGlsLio7DQogaW1wb3J0IGphdmEubWF0aC5CaWdEZWNpbWFsOw0KIGltcG9ydCBqYXZhLm1hdGguUm91bmRpbmdNb2RlOw0KIGltcG9ydCBqYXZhLnRleHQuRGVjaW1hbEZvcm1hdDsNCiBpbXBvcnQgamF2YS50aW1lLlpvbmVJZDsNCiANCi8qDQoqIE1vZGlmaWNhdGlvbiBhcmVhIC0gTTMNCiogTmJyICAgICAgICAgICAgICAgRGF0ZSAgICAgIFVzZXIgaWQgICAgIERlc2NyaXB0aW9uDQoqIFdLRjAwOSAgICAgICAgICAgIDIwMjMwOTI3ICBLVkVSQ08gICAgICBTdXBwbGllciBpbnZvaWNlIHZhcmlhbmNlIHJlY29kaW5nDQoqLw0KIA0KLyoqDQoqIFByb2Nlc3NWYXJpYW5jZSAtIENoZWNrIGZvciBTdXBwbGllciBJbnZvaWNlIHZhcmlhbmNlcyBhbmQgcmVjb2RlIHRvIHB1cmNoYXNlIGFjY291bnRpbmcgc3RyaW5nDQoqDQoqLw0KcHVibGljIGNsYXNzIFByb2Nlc3NWYXJpYW5jZSBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pOw0KICBwcml2YXRlIGZpbmFsIElvbkFQSSBpb247DQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcjsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcjsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIA0KICBwcml2YXRlIFN0cmluZyBQUk9DOw0KICBwcml2YXRlIFN0cmluZyBjb25vOw0KICBwcml2YXRlIFN0cmluZyBwdW5vOw0KICBwcml2YXRlIFN0cmluZyBwbmxpOw0KICBwcml2YXRlIFN0cmluZyBwbmxzOw0KICANCiAgcHJpdmF0ZSBpbnQgWFhDT05POw0KICBwcml2YXRlIFN0cmluZyBub3NlcmllczAxOw0KICBwcml2YXRlIGludCBjdXJyZW50RGF0ZTsNCiAgcHJpdmF0ZSBpbnQgY3VycmVudFRpbWUNCg0KICBwdWJsaWMgUHJvY2Vzc1ZhcmlhbmNlKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIExvZ2dlckFQSSBsb2dnZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgSW9uQVBJIGlvbikgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOw0KICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyOw0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogICAgdGhpcy5pb24gPSBpb247DQogIH0NCiAgDQogIA0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIA0KICAgIFhYQ09OTyA9IHByb2dyYW0uTERBWkQuQ09OTzsNCiAgICBjb25vID0gWFhDT05PLnRvU3RyaW5nKCk7DQogDQogICAgDQogICAgWm9uZUlkIHppZCA9IFpvbmVJZC5vZigiQXVzdHJhbGlhL1N5ZG5leSIpOyANCiAgICBjdXJyZW50RGF0ZSA9IExvY2FsRGF0ZS5ub3coemlkKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKTsNCiAgICBjdXJyZW50VGltZSA9IEludGVnZXIudmFsdWVPZihMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKSk7DQogICAgDQoNCiAgICBEQkFjdGlvbiBxdWVyeUVYVFZBUiA9IGRhdGFiYXNlLnRhYmxlKCJFWFRWQVIiKS5pbmRleCgiMTAiKS5zZWxlY3Rpb24oIkVYRElWSSIsICJFWFlFQTQiLCAiRVhKUk5PIiwgIkVYSlNOTyIsICJFWFBST0MiLCAiRVhDSE5PIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBFWFRWQVIgPSBxdWVyeUVYVFZBUi5nZXRDb250YWluZXIoKTsNCiAgCUVYVFZBUi5zZXQoIkVYQ09OTyIsIFhYQ09OTyk7DQogIAlFWFRWQVIuc2V0KCJFWFBST0MiLCAwKTsNCiAgCXF1ZXJ5RVhUVkFSLnJlYWRBbGwoRVhUVkFSLCAyLCAyMCwgbGlzdEVYVFZBUik7DQogIAkNCiAgfQ0KDQogIC8qKg0KICAqIGxpc3RFWFRWQVIgLSBDYWxsYmFjayBmdW5jdGlvbiB0byByZXR1cm4gRVhUVkFSDQogICoNCiAgKi8NCiAgQ2xvc3VyZTw/PiBsaXN0RVhUVkFSID0geyBEQkNvbnRhaW5lciBFWFRWQVIgLT4NCiAgICANCiAgICBTdHJpbmcgZGl2aSA9IEVYVFZBUi5nZXQoIkVYRElWSSIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyB5ZWE0ID0gRVhUVkFSLmdldCgiRVhZRUE0IikudG9TdHJpbmcoKS50cmltKCk7DQogICAgU3RyaW5nIGpybm8gPSBFWFRWQVIuZ2V0KCJFWEpSTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcganNubyA9IEVYVFZBUi5nZXQoIkVYSlNOTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIA0KICAgIERCQWN0aW9uIHF1ZXJ5RkdMRURHID0gZGF0YWJhc2UudGFibGUoIkZHTEVERyIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiRUdESVZJIiwgIkVHWUVBNCIsICJFR0pSTk8iLCAiRUdKU05PIiwgIkVHVk9OTyIsICJFR1ZTRVIiLCAiRUdBSVQxIiwgIkVHQUlUMiIsICJFR0FJVDMiLCAiRUdBSVQ0IiwgIkVHQUlUNSIsICJFR0FJVDYiLCAiRUdBSVQ3IiwgIkVHQUNBTSIsICJFR0FDUVQiLCAiRUdWVENEIiwgIkVHQUNEVCIsICJFR1ZUWFQiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIEZHTEVERyA9IHF1ZXJ5RkdMRURHLmdldENvbnRhaW5lcigpOw0KICAgIEZHTEVERy5zZXQoIkVHQ09OTyIsIFhYQ09OTyk7DQogICAgRkdMRURHLnNldCgiRUdESVZJIiwgZGl2aSk7DQogICAgRkdMRURHLnNldCgiRUdZRUE0IiwgeWVhNC50b0ludGVnZXIoKSk7DQogICAgRkdMRURHLnNldCgiRUdKUk5PIiwganJuby50b0ludGVnZXIoKSk7DQogICAgRkdMRURHLnNldCgiRUdKU05PIiwganNuby50b0ludGVnZXIoKSk7DQogICAgDQogICAgaWYgKHF1ZXJ5RkdMRURHLnJlYWQoRkdMRURHKSkgew0KICAgICAgU3RyaW5nIHZvbm8gPSBGR0xFREcuZ2V0KCJFR1ZPTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIFN0cmluZyB2dHh0ID0gRkdMRURHLmdldCgiRUdWVFhUIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICANCiAgICAgIGJvb2xlYW4gaXNSZWNvZGVkID0gZmFsc2U7DQogICAgICBpZiAodnR4dC5sZW5ndGgoKSA+IDQwKSB7DQogICAgICAgIFN0cmluZyBwb3M0MCA9IHZ0eHQuc3Vic3RyaW5nKDM5LDQwKTsNCiAgICAgICAgaWYgKHBvczQwLmVxdWFscygiWCIpKSB7DQogICAgICAgICAgaXNSZWNvZGVkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGlzUmVjb2RlZCkgew0KICAgICAgICBQUk9DID0gIiI7DQogICAgICAgIHVwZGF0ZVByb2Nlc3NGbGFnKGRpdmksIHllYTQsIGpybm8sIGpzbm8sICIyIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZWNvZGluZ1ZhcmlhbmNlKEZHTEVERyk7DQogICAgICB9DQogICAgfQ0KICB9DQogIA0KICAvKioNCiAgICogcmVjb2RlVmFyaWFuY2UgLSByZWNvcmRpbmcgdGhlIHZhcmlhbmNlIHRocm91Z2ggQVBTNDUwTUkNCiAgICoNCiAgKi8NCiAgZGVmIHJlY29kaW5nVmFyaWFuY2UoREJDb250YWluZXIgRkdMRURHKSB7ICANCiAgICBTdHJpbmcganJub0ZQTEVERyA9ICIiOw0KICAgIFN0cmluZyBqc25vRlBMRURHID0gIiI7DQogICAgDQogICAgU3RyaW5nIGRpdmkgPSBGR0xFREcuZ2V0KCJFR0RJVkkiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgeWVhNCA9IEZHTEVERy5nZXQoIkVHWUVBNCIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyBqcm5vID0gRkdMRURHLmdldCgiRUdKUk5PIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgU3RyaW5nIGpzbm8gPSBGR0xFREcuZ2V0KCJFR0pTTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgdm9ubyA9IEZHTEVERy5nZXQoIkVHVk9OTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyB2c2VyID0gRkdMRURHLmdldCgiRUdWU0VSIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgDQogICAgU3RyaW5nIGFpdDEgPSBGR0xFREcuZ2V0KCJFR0FJVDEiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgYWl0MiA9IEZHTEVERy5nZXQoIkVHQUlUMiIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyBhaXQzID0gRkdMRURHLmdldCgiRUdBSVQzIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgU3RyaW5nIGFpdDQgPSBGR0xFREcuZ2V0KCJFR0FJVDQiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgYWl0NSA9IEZHTEVERy5nZXQoIkVHQUlUNSIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyBhaXQ2ID0gRkdMRURHLmdldCgiRUdBSVQ2IikudG9TdHJpbmcoKS50cmltKCk7DQogICAgU3RyaW5nIGFpdDcgPSBGR0xFREcuZ2V0KCJFR0FJVDciKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgYWNhbSA9IEZHTEVERy5nZXQoIkVHQUNBTSIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyBhY3F0ID0gRkdMRURHLmdldCgiRUdBQ1FUIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgU3RyaW5nIHZ0Y2QgPSBGR0xFREcuZ2V0KCJFR1ZUQ0QiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgYWNkdCA9IEZHTEVERy5nZXQoIkVHQUNEVCIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyB2dHh0ID0gRkdMRURHLmdldCgiRUdWVFhUIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgDQogICAgZGVmIHBhcmFtcyA9IFsiRElWSSI6ZGl2aSwgIllFQTQiOnllYTQsICJWU0VSIjoiIiwgIlZPTk8iOnZvbm9dOw0KICAgICAgDQogICAgQ2xvc3VyZTw/PiBHTFMyMDBNSWNhbGxiYWNrID0gew0KICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgDQogICAgICBpZihyZXNwb25zZS5UUkNEICE9IG51bGwgJiYgcmVzcG9uc2UuVFJDRC5lcXVhbHMoIjQwIikpIHsNCiAgICAgICAganJub0ZQTEVERyA9IHJlc3BvbnNlLkpSTk8udHJpbSgpOw0KICAgICAgICBqc25vRlBMRURHID0gcmVzcG9uc2UuSlNOTy50cmltKCk7DQogICAgICB9DQogICAgfQ0KDQogICAgbWlDYWxsZXIuY2FsbCgiR0xTMjAwTUkiLCAiTHN0Vm91Y2hlckxpbmVzIiwgcGFyYW1zLCBHTFMyMDBNSWNhbGxiYWNrKTsNCiAgICANCiAgICBEQkFjdGlvbiBxdWVyeUZQTEVERyA9IGRhdGFiYXNlLnRhYmxlKCJGUExFREciKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkVQU1VOTyIsICJFUFNQWU4iLCAiRVBTSU5PIiwgIkVQSU5ZUiIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgRlBMRURHID0gcXVlcnlGUExFREcuZ2V0Q29udGFpbmVyKCk7DQogICAgRlBMRURHLnNldCgiRVBDT05PIiwgWFhDT05PKTsNCiAgICBGUExFREcuc2V0KCJFUERJVkkiLCBkaXZpKTsNCiAgICBGUExFREcuc2V0KCJFUFlFQTQiLCB5ZWE0LnRvSW50ZWdlcigpKTsNCiAgICBGUExFREcuc2V0KCJFUEpSTk8iLCBqcm5vRlBMRURHLnRvSW50ZWdlcigpKTsNCiAgICBGUExFREcuc2V0KCJFUEpTTk8iLCBqc25vRlBMRURHLnRvSW50ZWdlcigpKTsNCiAgICANCiAgICBpZiAoIXF1ZXJ5RlBMRURHLnJlYWQoRlBMRURHKSkgew0KICAgICAgUFJPQyA9ICIiOw0KICAgICAgdXBkYXRlUHJvY2Vzc0ZsYWcoZGl2aSwgeWVhNCwganJubywganNubywgIjIiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgU3RyaW5nIHN1bm8gPSBGUExFREcuZ2V0KCJFUFNVTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgc3lwbiA9IEZQTEVERy5nZXQoIkVQU1BZTiIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIFN0cmluZyBzaW5vID0gRlBMRURHLmdldCgiRVBTSU5PIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgU3RyaW5nIGlueXIgPSBGUExFREcuZ2V0KCJFUElOWVIiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBsb2dnZXIuZGVidWcoIlNVTk89IiArIHN1bm8gKyAiIFNJTk89IiArIHNpbm8gKyAiIElOWVI9IiArIGlueXIpOw0KICAgIA0KICAgIGlmIChzaW5vLmlzRW1wdHkoKSkgew0KICAgICAgUFJPQyA9ICIiOw0KICAgICAgdXBkYXRlUHJvY2Vzc0ZsYWcoZGl2aSwgeWVhNCwganJubywganNubywgIjIiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgcHVubyA9ICIiOw0KICAgIHBubGkgPSAiIjsNCiAgICBwbmxzID0gIiI7DQogICAgDQogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJGR0lOQUUiKTsNCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5lcSgiRjlBSVQxIiwgYWl0MSk7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uYW5kKGV4cHJlc3Npb24uZXEoIkY5QUlUMiIsIGFpdDIpKTsNCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5hbmQoZXhwcmVzc2lvbi5lcSgiRjlBSVQzIiwgYWl0MykpOw0KICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmFuZChleHByZXNzaW9uLmVxKCJGOUFJVDQiLCBhaXQ0KSk7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uYW5kKGV4cHJlc3Npb24uZXEoIkY5QUlUNSIsIGFpdDUpKTsNCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5hbmQoZXhwcmVzc2lvbi5lcSgiRjlBSVQ2IiwgYWl0NikpOw0KICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmFuZChleHByZXNzaW9uLmVxKCJGOUFJVDciLCBhaXQ3KSk7DQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uYW5kKGV4cHJlc3Npb24uZXEoIkY5QUNBTSIsIGFjYW0pKTsNCiAgICANCiAgICAvL0NoZWNrIGZvciBhbiBhY2NvdW50aW5nIGxpbmUgb24gYSBub24tQXZlcmFnZSBDb3N0IFZhcmlhbmNlDQogICAgREJBY3Rpb24gcXVlcnlGR0lOQUUgPSBkYXRhYmFzZS50YWJsZSgiRkdJTkFFIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwcmVzc2lvbikuc2VsZWN0aW9uKCJGOVBVTk8iLCAiRjlQTkxJIiwgIkY5UE5MUyIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgRkdJTkFFID0gcXVlcnlGR0lOQUUuZ2V0Q29udGFpbmVyKCk7DQogICAgRkdJTkFFLnNldCgiRjlDT05PIiwgWFhDT05PKTsNCiAgICBGR0lOQUUuc2V0KCJGOURJVkkiLCBkaXZpKTsNCiAgICBGR0lOQUUuc2V0KCJGOVNVTk8iLCBzdW5vKTsNCiAgICBGR0lOQUUuc2V0KCJGOVNJTk8iLCBzaW5vKTsNCiAgICBGR0lOQUUuc2V0KCJGOUlOWVIiLCBpbnlyLnRvSW50ZWdlcigpKTsNCiAgICBGR0lOQUUuc2V0KCJGOUlOSVQiLCAiMTIiKTsNCiAgIA0KICAgIHF1ZXJ5RkdJTkFFLnJlYWRBbGwoRkdJTkFFLCA2LCAxLCBsc3RGR0lOQUUpOw0KICAgIA0KICAgIGlmIChwdW5vLmlzRW1wdHkoKSAmJiBwbmxpLmlzRW1wdHkoKSkgew0KICAgIC8vQ2hlY2sgZm9yIGFuIGFjY291bnRpbmcgbGluZSBvbiBhbiBBdmVyYWdlIENvc3QgVmFyaWFuY2UNCiAgICAgIHF1ZXJ5RkdJTkFFID0gZGF0YWJhc2UudGFibGUoIkZHSU5BRSIpLmluZGV4KCIwMCIpLm1hdGNoaW5nKGV4cHJlc3Npb24pLnNlbGVjdGlvbigiRjlQVU5PIiwgIkY5UE5MSSIsICJGOVBOTFMiKS5idWlsZCgpOw0KICAgICAgRkdJTkFFID0gcXVlcnlGR0lOQUUuZ2V0Q29udGFpbmVyKCk7DQogICAgICBGR0lOQUUuc2V0KCJGOUNPTk8iLCBYWENPTk8pOw0KICAgICAgRkdJTkFFLnNldCgiRjlESVZJIiwgZGl2aSk7DQogICAgICBGR0lOQUUuc2V0KCJGOVNVTk8iLCBzdW5vKTsNCiAgICAgIEZHSU5BRS5zZXQoIkY5U0lOTyIsIHNpbm8pOw0KICAgICAgRkdJTkFFLnNldCgiRjlJTllSIiwgaW55ci50b0ludGVnZXIoKSk7DQogICAgICBGR0lOQUUuc2V0KCJGOUlOSVQiLCAiMTEiKTsNCiAgIA0KICAgICAgcXVlcnlGR0lOQUUucmVhZEFsbChGR0lOQUUsIDYsIDEsIGxzdEZHSU5BRSk7DQogICAgDQogICAgIGlmIChwdW5vLmlzRW1wdHkoKSAmJiBwbmxpLmlzRW1wdHkoKSkgew0KICAgICAgUFJPQyA9ICIiOw0KICAgICAgdXBkYXRlUHJvY2Vzc0ZsYWcoZGl2aSwgeWVhNCwganJubywganNubywgIjIiKTsNCiAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy9DaGVjayBpZiBDQUNDU1QgaGFzIGFuIGFjY291bnRpbmcgc3RyaW5nIGZvciB0aGUgUE8gbGluZQ0KICAgIERCQWN0aW9uIHF1ZXJ5Q0FDQ1NUID0gZGF0YWJhc2UudGFibGUoIkNBQ0NTVCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiU0NBSVQxIiwgIlNDQUlUMiIsICJTQ0FJVDMiLCAiU0NBSVQ0IiwgIlNDQUlUNSIsICJTQ0FJVDYiLCAiU0NBSVQ3IikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBDQUNDU1QgPSBxdWVyeUNBQ0NTVC5nZXRDb250YWluZXIoKTsNCiAgICBDQUNDU1Quc2V0KCJTQ0NPTk8iLCBYWENPTk8pOw0KICAgIENBQ0NTVC5zZXQoIlNDUklETiIsIHB1bm8pOw0KICAgIENBQ0NTVC5zZXQoIlNDUklETCIsIHBubGkudG9JbnRlZ2VyKCkpOw0KICAgIENBQ0NTVC5zZXQoIlNDUklEWCIsIHBubHMudG9JbnRlZ2VyKCkpOw0KICAgIENBQ0NTVC5zZXQoIlNDT1JDQSIsICIyNTEiKTsNCiAgICBDQUNDU1Quc2V0KCJTQ09SQ0EiLCAiMjUxIik7DQogICAgQ0FDQ1NULnNldCgiU0NFVkVOIiwgIlBQMTAiKTsNCiAgICBDQUNDU1Quc2V0KCJTQ0FDVFkiLCAiOTAzIik7DQogICAgDQogICAgU3RyaW5nIGFpdDFDQUNDU1QgPSAiIjsNCiAgICBTdHJpbmcgYWl0MkNBQ0NTVCA9ICIiOw0KICAgIFN0cmluZyBhaXQzQ0FDQ1NUID0gIiI7DQogICAgU3RyaW5nIGFpdDRDQUNDU1QgPSAiIjsNCiAgICBTdHJpbmcgYWl0NUNBQ0NTVCA9ICIiOw0KICAgIFN0cmluZyBhaXQ2Q0FDQ1NUID0gIiI7DQogICAgU3RyaW5nIGFpdDdDQUNDU1QgPSAiIjsNCiAgICANCiAgICBpZiAoIXF1ZXJ5Q0FDQ1NULnJlYWQoQ0FDQ1NUKSkgew0KDQogICAgICAvL0lmIG5vIENBQ0NTVCBpcyBmb3VuZCwgY2hlY2sgaWYgUE8gbGluZSBpcyBmcm9tIGEgV29yayBPcmRlciBvciBpcyBpbnZlbnRvcnkgYW5kIHJldHJpZXZlIGFjY291bnRpbmcgc3RyaW5ncyBmcm9tIENSUzM5OQ0KICAgICAgREJBY3Rpb24gcXVlcnlNUExJTkUgPSBkYXRhYmFzZS50YWJsZSgiTVBMSU5FIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJJQlBPVEMiLCAiSUJST1JDIiwgIklCUk9STiIsICJJQlJPUkwiLCAiSUJGQUNJIiwgIklCUkdEVCIsICJJQklUTk8iKS5idWlsZCgpOw0KICAgICAgREJDb250YWluZXIgTVBMSU5FID0gcXVlcnlNUExJTkUuZ2V0Q29udGFpbmVyKCk7DQogICAgICBNUExJTkUuc2V0KCJJQkNPTk8iLCBYWENPTk8pOw0KICAgICAgTVBMSU5FLnNldCgiSUJQVU5PIiwgcHVubyk7DQogICAgICBNUExJTkUuc2V0KCJJQlBOTEkiLCBwbmxpLnRvSW50ZWdlcigpKTsNCiAgICAgIE1QTElORS5zZXQoIklCUE5MUyIsIHBubHMudG9JbnRlZ2VyKCkpOw0KICAgIA0KICAgICAgaWYgKCFxdWVyeU1QTElORS5yZWFkKE1QTElORSkpIHsNCiAgICAgICAgUFJPQyA9ICIiOw0KICAgICAgICB1cGRhdGVQcm9jZXNzRmxhZyhkaXZpLCB5ZWE0LCBqcm5vLCBqc25vLCAiMiIpOw0KICAgICAgICBsb2dnZXIuZGVidWcoIlBPIExpbmUgbm90IGZvdW5kIGluIE1QTElORSAtICIgKyBwdW5vICsgIi8iICsgcG5saSArICIvIiArIHBubHMpOw0KICAgICAgICByZXR1cm47DQogICAgICB9IA0KICAgICAgU3RyaW5nIHBvdGNNUExJTkUgPSBNUExJTkUuZ2V0KCJJQlBPVEMiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIFN0cmluZyByb3JjTVBMSU5FID0gTVBMSU5FLmdldCgiSUJST1JDIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICBTdHJpbmcgcm9ybk1QTElORSA9IE1QTElORS5nZXQoIklCUk9STiIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgU3RyaW5nIHJvcmxNUExJTkUgPSBNUExJTkUuZ2V0KCJJQlJPUkwiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIFN0cmluZyBmYWNpTVBMSU5FID0gTVBMSU5FLmdldCgiSUJGQUNJIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICBTdHJpbmcgcmdkdE1QTElORSA9IE1QTElORS5nZXQoIklCUkdEVCIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgU3RyaW5nIGl0bm9NUExJTkUgPSBNUExJTkUuZ2V0KCJJQklUTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIFN0cmluZyBERCA9IHJnZHRNUExJTkUuc3Vic3RyaW5nKDYsOCk7DQogICAgICBTdHJpbmcgTU0gPSByZ2R0TVBMSU5FLnN1YnN0cmluZyg0LDYpOw0KICAgICAgU3RyaW5nIFlZID0gcmdkdE1QTElORS5zdWJzdHJpbmcoMiw0KTsNCiAgICAgIFN0cmluZyByZ2R0RERNTVlZID0gIiR7RER9JHtNTX0ke1lZfSI7DQoNCiAgICAgIC8vQ2hlY2sgaWYgUE8gTGluZSBjb21lcyBmcm9tIGEgUmVwYWlyIG9yIFN1YmNvbnRyYWN0IFdvcmsgT3JkZXIgLSBhY2NvdW50aW5nIGV2ZW50IE1PMjAtOTIwDQogICAgICBpZiAocm9yY01QTElORS5lcXVhbHMoIjYiKSAmJiAocG90Y01QTElORS5lcXVhbHMoIjYwIikgfHwgcG90Y01QTElORS5lcXVhbHMoIjcwIikpKSB7DQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcnNBY2NvdW50cyA9IGdldFJlcFN1YldvcmtPcmRlckFjY291bnRzKGNvbm8sZGl2aSxyZ2R0RERNTVlZLGl0bm9NUExJTkUscm9ybk1QTElORSxyb3JsTVBMSU5FLGZhY2lNUExJTkUsIjAiKTsNCiAgICAgICAgYWl0MUNBQ0NTVCA9IHJzQWNjb3VudHMuZ2V0KCJBSVQxIikudHJpbSgpOw0KICAgICAgICBhaXQyQ0FDQ1NUID0gcnNBY2NvdW50cy5nZXQoIkFJVDIiKS50cmltKCk7DQogICAgICAgIGFpdDNDQUNDU1QgPSByc0FjY291bnRzLmdldCgiQUlUMyIpLnRyaW0oKTsNCiAgICAgICAgYWl0NENBQ0NTVCA9IHJzQWNjb3VudHMuZ2V0KCJBSVQ0IikudHJpbSgpOw0KICAgICAgICBhaXQ1Q0FDQ1NUID0gcnNBY2NvdW50cy5nZXQoIkFJVDUiKS50cmltKCk7DQogICAgICAgIGFpdDZDQUNDU1QgPSByc0FjY291bnRzLmdldCgiQUlUNiIpLnRyaW0oKTsNCiAgICAgICAgYWl0N0NBQ0NTVCA9IHJzQWNjb3VudHMuZ2V0KCJBSVQ3IikudHJpbSgpOw0KICAgICAgICBsb2dnZXIuZGVidWcoIlJlcGFpciBvciBTdWJjb250cmFjdCAtIGFpdDE9IiArIGFpdDFDQUNDU1QgKyAiIGFpdDI9IiArIGFpdDJDQUNDU1QpOw0KICAgICAgfSANCiAgICAgIGVsc2Ugew0KICAgICAgICAvL0NoZWNrIGlmIFBPIExpbmUgY29tZXMgZnJvbSBhIE5vcm1hbCBXb3JrIE9yZGVyIC0gYWNjb3VudGluZyBldmVudCBNTzEwLTkxMg0KICAgICAgICBpZiAocm9yY01QTElORS5lcXVhbHMoIjYiKSAmJiAhKHBvdGNNUExJTkUuZXF1YWxzKCI2MCIpIHx8IHBvdGNNUExJTkUuZXF1YWxzKCI3MCIpKSkgew0KICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gd29BY2NvdW50cyA9IGdldFdvcmtPcmRlckFjY291bnRzKGNvbm8sZGl2aSxyZ2R0RERNTVlZLGl0bm9NUExJTkUscm9ybk1QTElORSxyb3JsTVBMSU5FKTsNCiAgICAgICAgICBhaXQxQ0FDQ1NUID0gd29BY2NvdW50cy5nZXQoIkFJVDEiKS50cmltKCk7DQogICAgICAgICAgYWl0MkNBQ0NTVCA9IHdvQWNjb3VudHMuZ2V0KCJBSVQyIikudHJpbSgpOw0KICAgICAgICAgIGFpdDNDQUNDU1QgPSB3b0FjY291bnRzLmdldCgiQUlUMyIpLnRyaW0oKTsNCiAgICAgICAgICBhaXQ0Q0FDQ1NUID0gd29BY2NvdW50cy5nZXQoIkFJVDQiKS50cmltKCk7DQogICAgICAgICAgYWl0NUNBQ0NTVCA9IHdvQWNjb3VudHMuZ2V0KCJBSVQ1IikudHJpbSgpOw0KICAgICAgICAgIGFpdDZDQUNDU1QgPSB3b0FjY291bnRzLmdldCgiQUlUNiIpLnRyaW0oKTsNCiAgICAgICAgICBhaXQ3Q0FDQ1NUID0gd29BY2NvdW50cy5nZXQoIkFJVDciKS50cmltKCk7DQogICAgICAgICAgbG9nZ2VyLmRlYnVnKCJXb3JrIE9yZGVyIC0gYWl0MT0iICsgYWl0MUNBQ0NTVCArICIgYWl0Mj0iICsgYWl0MkNBQ0NTVCk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgIC8vQ2hlY2sgaWYgUE8gTGluZSBpcyBmb3IgYW4gSW52ZW50b3J5IGFjY291bnRlZCBpdGVtDQogICAgICAgICAgREJBY3Rpb24gcXVlcnlNSVRNQVMgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJNTVNUQ0QiKS5idWlsZCgpOw0KICAgICAgICAgIERCQ29udGFpbmVyIE1JVE1BUyA9IHF1ZXJ5TUlUTUFTLmdldENvbnRhaW5lcigpOw0KICAgICAgICAgIE1JVE1BUy5zZXQoIk1NQ09OTyIsIFhYQ09OTyk7DQogICAgICAgICAgTUlUTUFTLnNldCgiTU1JVE5PIiwgaXRub01QTElORS50cmltKCkpOyAgIA0KICAgICAgICAgIGlmICghcXVlcnlNSVRNQVMucmVhZChNSVRNQVMpKSB7DQogICAgICAgICAgICBQUk9DID0gIiI7DQogICAgICAgICAgICB1cGRhdGVQcm9jZXNzRmxhZyhkaXZpLCB5ZWE0LCBqcm5vLCBqc25vLCAiMiIpOw0KICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCJNSVRNQVMgbm90IGZvdW5kIGZvciBpdGVtIiArIGl0bm9NUExJTkUudHJpbSgpKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9IA0KICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgU3RyaW5nIHN0Y2RNSVRNQVMgPSBNSVRNQVMuZ2V0KCJNTVNUQ0QiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgICAgIGlmIChzdGNkTUlUTUFTLmVxdWFscygiMSIpKSB7DQogICAgICAgICAgICBsb2dnZXIuZGVidWcoIlByZSBJUFMgY2FsbCAke2Nvbm99Iik7DQogICAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gaW5BY2NvdW50cyA9IGdldEludmVudG9yeUFjY291bnRzKGNvbm8sZGl2aSxyZ2R0RERNTVlZLHB1bm8scG5saSxwbmxzKTsNCiAgICAgICAgICAgICAgYWl0MUNBQ0NTVCA9IGluQWNjb3VudHMuZ2V0KCJBSVQxIikudHJpbSgpOw0KICAgICAgICAgICAgICBhaXQyQ0FDQ1NUID0gaW5BY2NvdW50cy5nZXQoIkFJVDIiKS50cmltKCk7DQogICAgICAgICAgICAgIGFpdDNDQUNDU1QgPSBpbkFjY291bnRzLmdldCgiQUlUMyIpLnRyaW0oKTsNCiAgICAgICAgICAgICAgYWl0NENBQ0NTVCA9IGluQWNjb3VudHMuZ2V0KCJBSVQ0IikudHJpbSgpOw0KICAgICAgICAgICAgICBhaXQ1Q0FDQ1NUID0gaW5BY2NvdW50cy5nZXQoIkFJVDUiKS50cmltKCk7DQogICAgICAgICAgICAgIGFpdDZDQUNDU1QgPSBpbkFjY291bnRzLmdldCgiQUlUNiIpLnRyaW0oKTsNCiAgICAgICAgICAgICAgYWl0N0NBQ0NTVCA9IGluQWNjb3VudHMuZ2V0KCJBSVQ3IikudHJpbSgpOw0KICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoIkludmVudG9yeSBBY2NvdW50ZWQgSXRlbSAtIGFpdDE9IiArIGFpdDFDQUNDU1QgKyAiIGFpdDI9IiArIGFpdDJDQUNDU1QpOw0KICAgICAgICAgICAgfSANCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICBQUk9DID0gIiI7DQogICAgICAgICAgICAgIHVwZGF0ZVByb2Nlc3NGbGFnKGRpdmksIHllYTQsIGpybm8sIGpzbm8sICIyIik7DQogICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygiSXRlbSBkb2VzIG5vdCBtYXRjaCBjcml0ZXJpYSBmb3IgYWNjb3VudCBzaW11bGF0aW9uIC0gIiArIGl0bm9NUExJTkUudHJpbSgpKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgDQogICAgfQ0KICAgIC8vSWYgQ0FDQ1NUIGlzIGZvdW5kLCB1c2UgdGhlIGFjY291bnRpbmcgc3RyaW5nIGZyb20gdGhlcmUNCiAgICBlbHNlIHsNCiAgICAgIGFpdDFDQUNDU1QgPSBDQUNDU1QuZ2V0KCJTQ0FJVDEiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGFpdDJDQUNDU1QgPSBDQUNDU1QuZ2V0KCJTQ0FJVDIiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGFpdDNDQUNDU1QgPSBDQUNDU1QuZ2V0KCJTQ0FJVDMiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGFpdDRDQUNDU1QgPSBDQUNDU1QuZ2V0KCJTQ0FJVDQiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGFpdDVDQUNDU1QgPSBDQUNDU1QuZ2V0KCJTQ0FJVDUiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGFpdDZDQUNDU1QgPSBDQUNDU1QuZ2V0KCJTQ0FJVDYiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGFpdDdDQUNDU1QgPSBDQUNDU1QuZ2V0KCJTQ0FJVDciKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGxvZ2dlci5kZWJ1ZygiYWl0MUNBQ0NTVD0iICsgYWl0MUNBQ0NTVCArICIgYWl0MkNBQ0NTVD0iICsgYWl0MkNBQ0NTVCk7DQogICAgfQ0KDQogICAgU3RyaW5nIGluYm4gPSBjcmVhdGVBUFM0NTBNSUhlYWRlcihkaXZpLCB5ZWE0LCB2c2VyLCB2b25vLCBhY2R0KTsNCiAgICBpZiAoaW5ibiAhPSBudWxsICYmICFpbmJuLmlzRW1wdHkoKSkgew0KICAgICAgaWYgKHZ0eHQubGVuZ3RoKCkgPT0gNDApIHsNCiAgICAgICAgdnR4dCA9IHZ0eHQuc3Vic3RyaW5nKDAsIDM4KSArICJYIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZ0eHQgPSBmb3JtYXRGaXhlZExlbih2dHh0LCAzOSkgKyAiWCI7DQogICAgICB9DQogICAgICBjcmVhdGVBUFM0NTBNSUxpbmUoZGl2aSwgaW5ibiwgKGFjYW0udG9Eb3VibGUoKSAqICgtMSkpLnRvU3RyaW5nKCksIHZ0Y2QsIChhY3F0LnRvRG91YmxlKCkgKiAoLTEpKS50b1N0cmluZygpLCBhaXQxLCBhaXQyLCBhaXQzLCBhaXQ0LCBhaXQ1LCBhaXQ2LCBhaXQ3LCB2dHh0KTsNCiAgICAgIGNyZWF0ZUFQUzQ1ME1JTGluZShkaXZpLCBpbmJuLCBhY2FtLCB2dGNkLCBhY3F0LCBhaXQxQ0FDQ1NULCBhaXQyQ0FDQ1NULCBhaXQzQ0FDQ1NULCBhaXQ0Q0FDQ1NULCBhaXQ1Q0FDQ1NULCBhaXQ2Q0FDQ1NULCBhaXQ3Q0FDQ1NULCB2dHh0KTsNCiAgICAgIHZhbGlkYXRlQVBTNDU1TUlWYWxpZEJ5QmF0Y2hObyhkaXZpLCBpbmJuKTsNCiAgICAgIHVwZGF0ZVByb2Nlc3NGbGFnKGRpdmksIHllYTQsIGpybm8sIGpzbm8sICIxIik7DQogICAgfQ0KICB9DQogIA0KICAvKioNCiAgICogbHN0RkdJTkFFIC0gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0dXJuIEZHSU5BRSByZWNvcmRzDQogICAqDQogICovDQogIENsb3N1cmU8Pz4gbHN0RkdJTkFFID0geyBEQkNvbnRhaW5lciBGR0lOQUUgLT4NCiAgICANCiAgICBwdW5vICA9IEZHSU5BRS5nZXQoIkY5UFVOTyIpLnRvU3RyaW5nKCk7DQogICAgcG5saSAgPSBGR0lOQUUuZ2V0KCJGOVBOTEkiKS50b1N0cmluZygpOw0KICAgIHBubHMgID0gRkdJTkFFLmdldCgiRjlQTkxTIikudG9TdHJpbmcoKTsNCiAgICBsb2dnZXIuZGVidWcoIlBVTk89IiArIHB1bm8gKyAiIFBOTEk9IiArIHBubGkpOw0KICB9DQogIC8qKg0KICAgKiBjcmVhdGVBUFM0NTBNSUhlYWRlciAtIGV4ZWN1dGluZyBBUFM0NTBNSS5BZGRIZWFkUmVjb2RlDQogICAqDQogICovDQogIGRlZiBTdHJpbmcgY3JlYXRlQVBTNDUwTUlIZWFkZXIoU3RyaW5nIGRpdmksIFN0cmluZyB5ZWE0LCBTdHJpbmcgdnNlciwgU3RyaW5nIHZvbm8sIFN0cmluZyBhY2R0KSB7DQogICAgbG9nZ2VyLmRlYnVnKCJDYWxsIEFQUzQ1ME1JLkFkZEhlYWRSZWNvZGUuLi4iKTsNCiAgICANCiAgICBTdHJpbmcgaW5ibiA9ICIiOw0KICAgIGRlZiBwYXJhbXMgPSBbICJESVZJIjogZGl2aSwgIllFQTQiOiB5ZWE0LCAiVlNFUiI6IHZzZXIsICJWT05PIjogdm9ubywgIkFDRFQiOiBhY2R0XTsgDQogICAgDQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgaW5ibiA9IHJlc3BvbnNlLklOQk47DQogICAgICBsb2dnZXIuZGVidWcoIklOQk49IiArIGluYm4pOw0KICAgIH0NCiAgICANCiAgICBtaUNhbGxlci5jYWxsKCJBUFM0NTBNSSIsIkFkZEhlYWRSZWNvZGUiLCBwYXJhbXMsIGNhbGxiYWNrKTsNCiAgICANCiAgICByZXR1cm4gaW5ibjsNCiAgfQ0KICAvKioNCiAgICogY3JlYXRlQVBTNDUwTUlMaW5lIC0gZXhlY3V0aW5nIEFQUzQ1ME1JLkFkZExpbmVSZWNvZGUNCiAgICoNCiAgKi8NCiAgZGVmIGNyZWF0ZUFQUzQ1ME1JTGluZShTdHJpbmcgZGl2aSwgU3RyaW5nIGluYm4sIFN0cmluZyBubGFtLCBTdHJpbmcgdnRjZCwgU3RyaW5nIGFjcXQsIFN0cmluZyBhaXQxLCBTdHJpbmcgYWl0MiwgU3RyaW5nIGFpdDMsIFN0cmluZyBhaXQ0LCBTdHJpbmcgYWl0NSwgU3RyaW5nIGFpdDYsIFN0cmluZyBhaXQ3LCBTdHJpbmcgdnR4dCkgew0KICAgIGxvZ2dlci5kZWJ1ZygiQ2FsbCBBUFM0NTBNSS5BZGRMaW5lUmVjb2RlLi4uIik7DQogICAgDQogICAgDQogICAgZGVmIHBhcmFtcyA9IFsgIkRJVkkiOiBkaXZpLCAiSU5CTiI6IGluYm4sICJOTEFNIjogbmxhbSwgIlZUQ0QiOiB2dGNkLCAiQUNRVCI6IGFjcXQsICJBSVQxIjogYWl0MSwgIkFJVDIiOiBhaXQyLCAiQUlUMyI6IGFpdDMsICJBSVQ0IjogYWl0NCwgIkFJVDUiOiBhaXQ1LCAiQUlUNiI6IGFpdDYsICJBSVQ3IjogYWl0NywgIlZUWFQiOiB2dHh0XTsgDQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgIA0KICAgIH0NCiAgICANCiAgICBtaUNhbGxlci5jYWxsKCJBUFM0NTBNSSIsIkFkZExpbmVSZWNvZGUiLCBwYXJhbXMsIGNhbGxiYWNrKTsNCiAgfQ0KICAvKioNCiAgICogZm9ybWF0Rml4ZWRMZW5ndGgNCiAgICoNCiAgKi8gIA0KICBkZWYgU3RyaW5nIGZvcm1hdEZpeGVkTGVuKFN0cmluZyBzdHIsIGludCBsZW4pIHsNCiAgICBTdHJpbmcgc3RyVGVtcCA9IHN0cjsNCiAgICB3aGlsZSAoc3RyVGVtcC5sZW5ndGgoKSA8IGxlbikgew0KICAgICAgc3RyVGVtcCArPSAiICI7DQogICAgfQ0KICAgIHJldHVybiBzdHJUZW1wOw0KICB9DQogIA0KICAvKioNCiAgICogdmFsaWRhdGVBUFM0NTVNSVZhbGlkQnlCYXRjaE5vIC0gZXhlY3V0aW5nIEFQUzQ1NU1JLlZhbGlkQnlCYXRjaE5vDQogICAqDQogICovDQogIGRlZiB2YWxpZGF0ZUFQUzQ1NU1JVmFsaWRCeUJhdGNoTm8oU3RyaW5nIGRpdmksIFN0cmluZyBpbmJuKSB7DQogICAgbG9nZ2VyLmRlYnVnKCJDYWxsIEFQUzQ1NU1JLlZhbGlkQnlCYXRjaE5vLi4uIik7DQogICAgZGVmIHBhcmFtcyA9IFsgIkRJVkkiOiBkaXZpLCAiSU5CTiI6IGluYm5dOyANCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgIA0KICAgIH0NCiAgICBtaUNhbGxlci5jYWxsKCJBUFM0NTVNSSIsIlZhbGlkQnlCYXRjaE5vIiwgcGFyYW1zLCBjYWxsYmFjayk7DQogIH0NCiAgLyoqDQogICAqIHVwZGF0ZVByb2Nlc3NGbGFnIC0gdXBkYXRlIFBST0MgaW4gRVhUVkFSDQogICAqDQogICovDQogIGRlZiB1cGRhdGVQcm9jZXNzRmxhZyhTdHJpbmcgZGl2aSwgU3RyaW5nIHllYTQsIFN0cmluZyBqcm5vLCBTdHJpbmcganNubywgU3RyaW5nIHByb2MpIHsNCiAgICANCgkgIERCQWN0aW9uIGFjdGlvbkVYVFZBUiA9IGRhdGFiYXNlLnRhYmxlKCJFWFRWQVIiKS5pbmRleCgiMDAiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIEVYVFZBUiA9IGFjdGlvbkVYVFZBUi5nZXRDb250YWluZXIoKTsNCgkJRVhUVkFSLnNldCgiRVhDT05PIiwgWFhDT05PKTsNCgkJRVhUVkFSLnNldCgiRVhESVZJIiwgZGl2aSk7DQoJCUVYVFZBUi5zZXQoIkVYWUVBNCIsIHllYTQudG9JbnRlZ2VyKCkpOw0KCQlFWFRWQVIuc2V0KCJFWEpSTk8iLCBqcm5vLnRvSW50ZWdlcigpKTsNCgkJRVhUVkFSLnNldCgiRVhKU05PIiwganNuby50b0ludGVnZXIoKSk7DQoJCVBST0MgPSBwcm9jOw0KCQlpZiAoIWFjdGlvbkVYVFZBUi5yZWFkTG9jayhFWFRWQVIsIHVwZGF0ZUVYVFZBUikpIHsNCiAgICAgIHJldHVybjsNCgkJfQ0KICB9DQogIC8qKg0KICAqIHVwZGF0ZUVYVFZBUiAtIENhbGxiYWNrIGZ1bmN0aW9uDQogICoNCiAgKi8NCiAgIENsb3N1cmU8Pz4gdXBkYXRlRVhUVkFSID0geyBMb2NrZWRSZXN1bHQgRVhUVkFSIC0+DQogICAgRVhUVkFSLnNldCgiRVhQUk9DIiwgUFJPQy50b0ludGVnZXIoKSk7DQogICAgRVhUVkFSLnNldCgiRVhMTURUIiwgY3VycmVudERhdGUpOw0KICAJRVhUVkFSLnNldCgiRVhDSE5PIiwgRVhUVkFSLmdldCgiRVhDSE5PIikudG9TdHJpbmcoKS50b0ludGVnZXIoKSArMSk7DQogIAlFWFRWQVIuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSk7DQogICAgRVhUVkFSLnVwZGF0ZSgpOw0KICAgfQ0KICAgDQogIC8qKg0KICAgKiBnZXRJbnZlbnRvcnlBY2NvdW50cyAtIEdldCBBY2NvdW50aW5nIFN0cmluZyBmb3IgSW52ZW50b3J5IEl0ZW0NCiAgICoNCiAgKi8NCiAgZGVmIE1hcDxTdHJpbmcsIFN0cmluZz4gZ2V0SW52ZW50b3J5QWNjb3VudHMoU3RyaW5nIENvbXBhbnksIFN0cmluZyBEaXZpc2lvbiwgU3RyaW5nIEZyb21EYXRlLCBTdHJpbmcgT3JkZXJOdW1iZXIsIFN0cmluZyBPcmRlckxpbmVOdW1iZXIsIFN0cmluZyBQdXJjaGFzZU9yZGVyTGluZVN1Ym51bWJlcikgew0KICAgIGRlZiBlbmRwb2ludCA9ICJNMy9pcHMvc2VydmljZS9DUlMzOTkiDQogICAgZGVmIGhlYWRlcnMgPSBbIkFjY2VwdCI6ICJhcHBsaWNhdGlvbi94bWwiLCAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3htbCJdDQogICAgZGVmIHF1ZXJ5UGFyYW1ldGVycyA9IChNYXApbnVsbA0KICAgIFN0cmluZyBTT0FQQm9keSA9ICI8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz48U09BUC1FTlY6RW52ZWxvcGUgeG1sbnM6U09BUC1FTlY9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlL1wiIHhtbG5zOmNyZWQ9XCJodHRwOi8vbGF3c29uLmNvbS93cy9jcmVkZW50aWFsc1wiIHhtbG5zOmdldD1cImh0dHA6Ly9zY2hlbWFzLmluZm9yLmNvbS9pcHMvQ1JTMzk5L0dldFBQMTA5MTBcIj4gIDxTT0FQLUVOVjpIZWFkZXI+ICAgIDxjcmVkOmx3cz4gICAgICA8Y3JlZDpjb21wYW55PiR7Q29tcGFueX08L2NyZWQ6Y29tcGFueT4gICAgICA8Y3JlZDpkaXZpc2lvbj48L2NyZWQ6ZGl2aXNpb24+ICAgIDwvY3JlZDpsd3M+ICA8L1NPQVAtRU5WOkhlYWRlcj4gIDxTT0FQLUVOVjpCb2R5PiAgICA8Z2V0OkdldFBQMTA5MTA+ICAgICAgPGdldDpDUlMzOTk+ICAgICAgICA8Z2V0OkRpdmlzaW9uPiR7RGl2aXNpb259PC9nZXQ6RGl2aXNpb24+ICAgICAgICA8Z2V0OkZyb21EYXRlPiR7RnJvbURhdGV9PC9nZXQ6RnJvbURhdGU+ICAgICAgICA8Z2V0Ok9yZGVyTnVtYmVyPiR7T3JkZXJOdW1iZXJ9PC9nZXQ6T3JkZXJOdW1iZXI+ICAgICAgICA8Z2V0Ok9yZGVyTGluZU51bWJlcj4ke09yZGVyTGluZU51bWJlcn08L2dldDpPcmRlckxpbmVOdW1iZXI+ICAgICAgICA8Z2V0OlB1cmNoYXNlT3JkZXJMaW5lU3VibnVtYmVyPiR7UHVyY2hhc2VPcmRlckxpbmVTdWJudW1iZXJ9PC9nZXQ6UHVyY2hhc2VPcmRlckxpbmVTdWJudW1iZXI+ICAgICAgPC9nZXQ6Q1JTMzk5PiAgICA8L2dldDpHZXRQUDEwOTEwPiAgPC9TT0FQLUVOVjpCb2R5PjwvU09BUC1FTlY6RW52ZWxvcGU+Ig0KICAgIElvblJlc3BvbnNlIHJlc3BvbnNlID0gaW9uLnBvc3QoZW5kcG9pbnQsIGhlYWRlcnMsIHF1ZXJ5UGFyYW1ldGVycywgU09BUEJvZHkpDQogICAgaWYgKHJlc3BvbnNlLmdldEVycm9yKCkpIHsNCiAgICAgIGxvZ2dlci5kZWJ1ZygiRmFpbGVkIGNhbGxpbmcgSU9OIEFQSSwgZGV0YWlsZWQgZXJyb3IgbWVzc2FnZTogJHtyZXNwb25zZS5nZXRFcnJvck1lc3NhZ2UoKX0iKQ0KICAgICAgZGVmICBhY2NvdW50cyA9IFsgIkFJVDEiOiAiIiwgIkFJVDIiOiIiLCAiQUlUMyI6IiIsICJBSVQ0IjoiIiwgIkFJVDUiOiIiLCAiQUlUNiI6IiIsICJBSVQ3IjoiIl07DQogICAgICByZXR1cm4gYWNjb3VudHM7ICANCiAgICB9DQogICAgaWYgKHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSAhPSAyMDApIHsNCiAgICAgIGxvZ2dlci5kZWJ1ZygiRXhwZWN0ZWQgc3RhdHVzIDIwMCBidXQgZ290ICR7cmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpfSBpbnN0ZWFkIikNCiAgICAgIGRlZiAgYWNjb3VudHMgPSBbICJBSVQxIjogIiIsICJBSVQyIjoiIiwgIkFJVDMiOiIiLCAiQUlUNCI6IiIsICJBSVQ1IjoiIiwgIkFJVDYiOiIiLCAiQUlUNyI6IiJdOw0KICAgICAgcmV0dXJuIGFjY291bnRzOyAgDQogICAgfQ0KDQogICAgU3RyaW5nIGNvbnRlbnQgPSByZXNwb25zZS5nZXRDb250ZW50KCkNCiAgICBpZiAoY29udGVudCA9PSBudWxsKSB7DQogICAgICBsb2dnZXIuZGVidWcoIkV4cGVjdGVkIGNvbnRlbnQgZnJvbSB0aGUgcmVxdWVzdCBidXQgZ290IG5vIGNvbnRlbnQiKQ0KICAgICAgZGVmICBhY2NvdW50cyA9IFsgIkFJVDEiOiAiIiwgIkFJVDIiOiIiLCAiQUlUMyI6IiIsICJBSVQ0IjoiIiwgIkFJVDUiOiIiLCAiQUlUNiI6IiIsICJBSVQ3IjoiIl07DQogICAgICByZXR1cm4gYWNjb3VudHM7ICANCiAgICB9DQogICAgZGVmIHJlc3BvbnNlQ29udGVudCA9ICBuZXcgWG1sU2x1cnBlcigpLnBhcnNlVGV4dChjb250ZW50KSA7DQoNCiAgICBTdHJpbmcgQUlUMSA9ICIiOw0KICAgIFN0cmluZyBBSVQyID0gIiI7DQogICAgU3RyaW5nIEFJVDMgPSAiIjsNCiAgICBTdHJpbmcgQUlUNCA9ICIiOw0KICAgIFN0cmluZyBBSVQ1ID0gIiI7DQogICAgU3RyaW5nIEFJVDYgPSAiIjsNCiAgICBTdHJpbmcgQUlUNyA9ICIiOw0KICAgIA0KICAgICAgZGVmIHJlc3BvbnNlQm9keSA9IGNvbnRlbnQudG9TdHJpbmcoKTsNCiAgICAgIGludCBpbmRleFN0YXJ0ID0gcmVzcG9uc2VCb2R5LmluZGV4T2YoIkFjY291bnRpbmdEaW1lbnNpb24xPiIpOw0KICAgICAgaW50IGluZGV4RW5kID0gMDsNCiAgICAgIGlmIChpbmRleFN0YXJ0ICE9LTEpew0KICAgICAgICAgQUlUMT1yZXNwb25zZUJvZHkuc3Vic3RyaW5nKGluZGV4U3RhcnQrMjApOw0KICAgICAgICAgaW5kZXhFbmQ9QUlUMS5pbmRleE9mKCI8Iik7DQogICAgICAgICBBSVQxPUFJVDEuc3Vic3RyaW5nKDEsaW5kZXhFbmQpOw0KICAgICAgfQ0KICAgICAgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uMj4iKTsNCiAgICAgIGluZGV4RW5kID0gMDsNCiAgICAgIGlmIChpbmRleFN0YXJ0ICE9LTEpew0KICAgICAgICAgQUlUMj1yZXNwb25zZUJvZHkuc3Vic3RyaW5nKGluZGV4U3RhcnQrMjApOw0KICAgICAgICAgaW5kZXhFbmQ9QUlUMi5pbmRleE9mKCI8Iik7DQogICAgICAgICBBSVQyPUFJVDIuc3Vic3RyaW5nKDEsaW5kZXhFbmQpOw0KICAgICAgfQ0KICAgICAgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uMz4iKTsNCiAgICAgIGluZGV4RW5kID0gMDsNCiAgICAgIGlmIChpbmRleFN0YXJ0ICE9LTEpew0KICAgICAgICAgQUlUMz1yZXNwb25zZUJvZHkuc3Vic3RyaW5nKGluZGV4U3RhcnQrMjApOw0KICAgICAgICAgaW5kZXhFbmQ9QUlUMy5pbmRleE9mKCI8Iik7DQogICAgICAgICBBSVQzPUFJVDMuc3Vic3RyaW5nKDEsaW5kZXhFbmQpOw0KICAgICAgfQ0KICAgICAgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uND4iKTsNCiAgICAgIGluZGV4RW5kID0gMDsNCiAgICAgIGlmIChpbmRleFN0YXJ0ICE9LTEpew0KICAgICAgICAgQUlUND1yZXNwb25zZUJvZHkuc3Vic3RyaW5nKGluZGV4U3RhcnQrMjApOw0KICAgICAgICAgaW5kZXhFbmQ9QUlUNC5pbmRleE9mKCI8Iik7DQogICAgICAgICBBSVQ0PUFJVDQuc3Vic3RyaW5nKDEsaW5kZXhFbmQpOw0KICAgICAgfQ0KICAgICAgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uNT4iKTsNCiAgICAgIGluZGV4RW5kID0gMDsNCiAgICAgIGlmIChpbmRleFN0YXJ0ICE9LTEpew0KICAgICAgICAgQUlUNT1yZXNwb25zZUJvZHkuc3Vic3RyaW5nKGluZGV4U3RhcnQrMjApOw0KICAgICAgICAgaW5kZXhFbmQ9QUlUNS5pbmRleE9mKCI8Iik7DQogICAgICAgICBBSVQ1PUFJVDUuc3Vic3RyaW5nKDEsaW5kZXhFbmQpOw0KICAgICAgfQ0KICAgICAgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uNj4iKTsNCiAgICAgIGluZGV4RW5kID0gMDsNCiAgICAgIGlmIChpbmRleFN0YXJ0ICE9LTEpew0KICAgICAgICAgQUlUNj1yZXNwb25zZUJvZHkuc3Vic3RyaW5nKGluZGV4U3RhcnQrMjApOw0KICAgICAgICAgaW5kZXhFbmQ9QUlUNi5pbmRleE9mKCI8Iik7DQogICAgICAgICBBSVQ2PUFJVDYuc3Vic3RyaW5nKDEsaW5kZXhFbmQpOw0KICAgICAgfQ0KICAgICAgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uNz4iKTsNCiAgICAgIGluZGV4RW5kID0gMDsNCiAgICAgIGlmIChpbmRleFN0YXJ0ICE9LTEpew0KICAgICAgICAgQUlUNz1yZXNwb25zZUJvZHkuc3Vic3RyaW5nKGluZGV4U3RhcnQrMjApOw0KICAgICAgICAgaW5kZXhFbmQ9QUlUNy5pbmRleE9mKCI8Iik7DQogICAgICAgICBBSVQ3PUFJVDcuc3Vic3RyaW5nKDEsaW5kZXhFbmQpOw0KICAgICAgfQ0KDQogICAgbG9nZ2VyLmRlYnVnKCJyZXBvbnNlQ29udGVudD0iICsgcmVzcG9uc2VDb250ZW50KTsNCiAgICANCiAgICBkZWYgIGFjY291bnRzID0gWyAiQUlUMSI6IEFJVDEsICJBSVQyIjpBSVQyLCAiQUlUMyI6QUlUMywgIkFJVDQiOkFJVDQsICJBSVQ1IjpBSVQ1LCAiQUlUNiI6QUlUNiwgIkFJVDciOkFJVDddOw0KICAgIHJldHVybiBhY2NvdW50czsgIA0KICB9DQogIA0KICAvKioNCiAgICogZ2V0V29ya09yZGVyQWNjb3VudHMgLSBHZXQgQWNjb3VudGluZyBTdHJpbmcgZm9yIFdvcmsgT3JkZXIgbGluZXMNCiAgICoNCiAgKi8NCiAgZGVmIE1hcDxTdHJpbmcsIFN0cmluZz4gZ2V0V29ya09yZGVyQWNjb3VudHMoU3RyaW5nIENvbXBhbnksIFN0cmluZyBEaXZpc2lvbiwgU3RyaW5nIEZyb21EYXRlLCBTdHJpbmcgSXRlbVByb2R1Y3ROdW1iZXIsIFN0cmluZyBNYW51ZmFjdHVyaW5nT3JkZXJOdW1iZXIsIFN0cmluZyBTZXF1ZW5jZU51bWJlcikgew0KICAgIGRlZiBlbmRwb2ludCA9ICJNMy9pcHMvc2VydmljZS9DUlMzOTkiDQogICAgZGVmIGhlYWRlcnMgPSBbIkFjY2VwdCI6ICJhcHBsaWNhdGlvbi94bWwiLCAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3htbCJdDQogICAgZGVmIHF1ZXJ5UGFyYW1ldGVycyA9IChNYXApbnVsbA0KICAgIFN0cmluZyBTT0FQQm9keSA9ICI8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz48U09BUC1FTlY6RW52ZWxvcGUgeG1sbnM6U09BUC1FTlY9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlL1wiIHhtbG5zOmNyZWQ9XCJodHRwOi8vbGF3c29uLmNvbS93cy9jcmVkZW50aWFsc1wiIHhtbG5zOmdldD1cImh0dHA6Ly9zY2hlbWFzLmluZm9yLmNvbS9pcHMvQ1JTMzk5L0dldE1PMTA5MTJcIj4gIDxTT0FQLUVOVjpIZWFkZXI+ICAgIDxjcmVkOmx3cz4gICAgICA8Y3JlZDpjb21wYW55PiR7Q29tcGFueX08L2NyZWQ6Y29tcGFueT4gICAgICA8Y3JlZDpkaXZpc2lvbj48L2NyZWQ6ZGl2aXNpb24+ICAgIDwvY3JlZDpsd3M+ICA8L1NPQVAtRU5WOkhlYWRlcj4gIDxTT0FQLUVOVjpCb2R5PiAgICA8Z2V0OkdldE1PMTA5MTI+ICAgICAgPGdldDpDUlMzOTk+ICAgICAgICA8Z2V0OkRpdmlzaW9uPiR7RGl2aXNpb259PC9nZXQ6RGl2aXNpb24+ICAgICAgICA8Z2V0OkZyb21EYXRlPiR7RnJvbURhdGV9PC9nZXQ6RnJvbURhdGU+ICAgICAgICA8Z2V0Okl0ZW1Qcm9kdWN0TnVtYmVyPiR7SXRlbVByb2R1Y3ROdW1iZXJ9PC9nZXQ6SXRlbVByb2R1Y3ROdW1iZXI+ICAgICAgICA8Z2V0OlNlcXVlbmNlTnVtYmVyPiR7U2VxdWVuY2VOdW1iZXJ9PC9nZXQ6U2VxdWVuY2VOdW1iZXI+ICAgICAgICA8Z2V0Ok1hbnVmYWN0dXJpbmdPcmRlck51bWJlcj4ke01hbnVmYWN0dXJpbmdPcmRlck51bWJlcn08L2dldDpNYW51ZmFjdHVyaW5nT3JkZXJOdW1iZXI+ICAgICAgPC9nZXQ6Q1JTMzk5PiAgICA8L2dldDpHZXRNTzEwOTEyPiAgPC9TT0FQLUVOVjpCb2R5PjwvU09BUC1FTlY6RW52ZWxvcGU+Ig0KICAgIElvblJlc3BvbnNlIHJlc3BvbnNlID0gaW9uLnBvc3QoZW5kcG9pbnQsIGhlYWRlcnMsIHF1ZXJ5UGFyYW1ldGVycywgU09BUEJvZHkpDQogICAgaWYgKHJlc3BvbnNlLmdldEVycm9yKCkpIHsNCiAgICAgIGxvZ2dlci5kZWJ1ZygiRmFpbGVkIGNhbGxpbmcgSU9OIEFQSSwgZGV0YWlsZWQgZXJyb3IgbWVzc2FnZTogJHtyZXNwb25zZS5nZXRFcnJvck1lc3NhZ2UoKX0iKQ0KICAgICAgZGVmICBhY2NvdW50cyA9IFsgIkFJVDEiOiAiIiwgIkFJVDIiOiIiLCAiQUlUMyI6IiIsICJBSVQ0IjoiIiwgIkFJVDUiOiIiLCAiQUlUNiI6IiIsICJBSVQ3IjoiIl07DQogICAgICByZXR1cm4gYWNjb3VudHM7ICANCiAgICB9DQogICAgaWYgKHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSAhPSAyMDApIHsNCiAgICAgIGxvZ2dlci5kZWJ1ZygiRXhwZWN0ZWQgc3RhdHVzIDIwMCBidXQgZ290ICR7cmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpfSBpbnN0ZWFkIikNCiAgICAgIGRlZiAgYWNjb3VudHMgPSBbICJBSVQxIjogIiIsICJBSVQyIjoiIiwgIkFJVDMiOiIiLCAiQUlUNCI6IiIsICJBSVQ1IjoiIiwgIkFJVDYiOiIiLCAiQUlUNyI6IiJdOw0KICAgICAgcmV0dXJuIGFjY291bnRzOyAgDQogICAgfQ0KICAgIFN0cmluZyBjb250ZW50ID0gcmVzcG9uc2UuZ2V0Q29udGVudCgpDQogICAgaWYgKGNvbnRlbnQgPT0gbnVsbCkgew0KICAgICAgbG9nZ2VyLmRlYnVnKCJFeHBlY3RlZCBjb250ZW50IGZyb20gdGhlIHJlcXVlc3QgYnV0IGdvdCBubyBjb250ZW50IikNCiAgICAgIGRlZiAgYWNjb3VudHMgPSBbICJBSVQxIjogIiIsICJBSVQyIjoiIiwgIkFJVDMiOiIiLCAiQUlUNCI6IiIsICJBSVQ1IjoiIiwgIkFJVDYiOiIiLCAiQUlUNyI6IiJdOw0KICAgICAgcmV0dXJuIGFjY291bnRzOyAgDQogICAgfQ0KICAgIGRlZiByZXNwb25zZUNvbnRlbnQgPSAgbmV3IFhtbFNsdXJwZXIoKS5wYXJzZVRleHQoY29udGVudCkgOw0KDQogICAgU3RyaW5nIEFJVDEgPSAiIjsNCiAgICBTdHJpbmcgQUlUMiA9ICIiOw0KICAgIFN0cmluZyBBSVQzID0gIiI7DQogICAgU3RyaW5nIEFJVDQgPSAiIjsNCiAgICBTdHJpbmcgQUlUNSA9ICIiOw0KICAgIFN0cmluZyBBSVQ2ID0gIiI7DQogICAgU3RyaW5nIEFJVDcgPSAiIjsNCiAgICANCiAgICAgIGRlZiByZXNwb25zZUJvZHkgPSBjb250ZW50LnRvU3RyaW5nKCk7DQogICAgICBpbnQgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uMT4iKTsNCiAgICAgIGludCBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDE9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDEuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUMT1BSVQxLnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjI+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDI9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDIuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUMj1BSVQyLnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjM+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDM9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDMuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUMz1BSVQzLnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjQ+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDQ9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDQuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUND1BSVQ0LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjU+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDU9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDUuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUNT1BSVQ1LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjY+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDY9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDYuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUNj1BSVQ2LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgICAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjc+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDc9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDcuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUNz1BSVQ3LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCg0KICAgIGxvZ2dlci5kZWJ1ZygicmVwb25zZUNvbnRlbnQ9IiArIHJlc3BvbnNlQ29udGVudCk7DQogICAgDQogICAgZGVmICBhY2NvdW50cyA9IFsgIkFJVDEiOiBBSVQxLCAiQUlUMiI6QUlUMiwgIkFJVDMiOkFJVDMsICJBSVQ0IjpBSVQ0LCAiQUlUNSI6QUlUNSwgIkFJVDYiOkFJVDYsICJBSVQ3IjpBSVQ3XTsNCiAgICByZXR1cm4gYWNjb3VudHM7DQogIH0NCiAgDQogIC8qKg0KICAgKiBnZXRSZXBTdWJXb3JrT3JkZXJBY2NvdW50cyAtIEdldCBBY2NvdW50aW5nIFN0cmluZyBmb3IgUmVwYWlyIG9yIFN1YmNvbnRyYWN0IFdvcmsgT3JkZXIgbGluZXMNCiAgICoNCiAgKi8NCiAgZGVmIE1hcDxTdHJpbmcsIFN0cmluZz4gZ2V0UmVwU3ViV29ya09yZGVyQWNjb3VudHMoU3RyaW5nIENvbXBhbnksIFN0cmluZyBEaXZpc2lvbiwgU3RyaW5nIEZyb21EYXRlLCBTdHJpbmcgSXRlbVByb2R1Y3ROdW1iZXIsIFN0cmluZyBNYW51ZmFjdHVyaW5nT3JkZXJOdW1iZXIsIFN0cmluZyBPcGVyYXRpb25OdW1iZXIsIFN0cmluZyBGYWNpbGl0eSwgU3RyaW5nIFJld29yaykgew0KICAgIGRlZiBlbmRwb2ludCA9ICJNMy9pcHMvc2VydmljZS9DUlMzOTkiDQogICAgZGVmIGhlYWRlcnMgPSBbIkFjY2VwdCI6ICJhcHBsaWNhdGlvbi94bWwiLCAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3htbCJdDQogICAgZGVmIHF1ZXJ5UGFyYW1ldGVycyA9IChNYXApbnVsbA0KICAgIFN0cmluZyBTT0FQQm9keSA9ICI8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz48U09BUC1FTlY6RW52ZWxvcGUgeG1sbnM6U09BUC1FTlY9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlL1wiIHhtbG5zOmNyZWQ9XCJodHRwOi8vbGF3c29uLmNvbS93cy9jcmVkZW50aWFsc1wiIHhtbG5zOmdldD1cImh0dHA6Ly9zY2hlbWFzLmluZm9yLmNvbS9pcHMvQ1JTMzk5L0dldE1PMjA5MjBcIj4gIDxTT0FQLUVOVjpIZWFkZXI+ICAgIDxjcmVkOmx3cz4gICAgICA8Y3JlZDpjb21wYW55PiR7Q29tcGFueX08L2NyZWQ6Y29tcGFueT4gICAgICA8Y3JlZDpkaXZpc2lvbj48L2NyZWQ6ZGl2aXNpb24+ICAgIDwvY3JlZDpsd3M+ICA8L1NPQVAtRU5WOkhlYWRlcj4gIDxTT0FQLUVOVjpCb2R5PiAgICA8Z2V0OkdldE1PMjA5MjA+ICAgICAgPGdldDpDUlMzOTk+ICAgICAgICA8Z2V0OkRpdmlzaW9uPiR7RGl2aXNpb259PC9nZXQ6RGl2aXNpb24+ICAgICAgICA8Z2V0OkZyb21EYXRlPiR7RnJvbURhdGV9PC9nZXQ6RnJvbURhdGU+ICAgICAgICA8Z2V0Okl0ZW1Qcm9kdWN0TnVtYmVyPiR7SXRlbVByb2R1Y3ROdW1iZXJ9PC9nZXQ6SXRlbVByb2R1Y3ROdW1iZXI+ICAgICAgICA8Z2V0Ok1hbnVmYWN0dXJpbmdPcmRlck51bWJlcj4ke01hbnVmYWN0dXJpbmdPcmRlck51bWJlcn08L2dldDpNYW51ZmFjdHVyaW5nT3JkZXJOdW1iZXI+ICAgICAgICA8Z2V0Ok9wZXJhdGlvbk51bWJlcj4ke09wZXJhdGlvbk51bWJlcn08L2dldDpPcGVyYXRpb25OdW1iZXI+ICAgICAgICA8Z2V0OkZhY2lsaXR5PiR7RmFjaWxpdHl9PC9nZXQ6RmFjaWxpdHk+ICAgICAgICA8Z2V0OlJld29yaz4ke1Jld29ya308L2dldDpSZXdvcms+ICAgICAgPC9nZXQ6Q1JTMzk5PiAgICA8L2dldDpHZXRNTzIwOTIwPiAgPC9TT0FQLUVOVjpCb2R5PjwvU09BUC1FTlY6RW52ZWxvcGU+Ig0KICAgIElvblJlc3BvbnNlIHJlc3BvbnNlID0gaW9uLnBvc3QoZW5kcG9pbnQsIGhlYWRlcnMsIHF1ZXJ5UGFyYW1ldGVycywgU09BUEJvZHkpDQogICAgaWYgKHJlc3BvbnNlLmdldEVycm9yKCkpIHsNCiAgICAgIGxvZ2dlci5kZWJ1ZygiRmFpbGVkIGNhbGxpbmcgSU9OIEFQSSwgZGV0YWlsZWQgZXJyb3IgbWVzc2FnZTogJHtyZXNwb25zZS5nZXRFcnJvck1lc3NhZ2UoKX0iKQ0KICAgICAgZGVmICBhY2NvdW50cyA9IFsgIkFJVDEiOiAiIiwgIkFJVDIiOiIiLCAiQUlUMyI6IiIsICJBSVQ0IjoiIiwgIkFJVDUiOiIiLCAiQUlUNiI6IiIsICJBSVQ3IjoiIl07DQogICAgICByZXR1cm4gYWNjb3VudHM7ICANCiAgICB9DQogICAgaWYgKHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSAhPSAyMDApIHsNCiAgICAgIGxvZ2dlci5kZWJ1ZygiRXhwZWN0ZWQgc3RhdHVzIDIwMCBidXQgZ290ICR7cmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpfSBpbnN0ZWFkIikNCiAgICAgIGRlZiAgYWNjb3VudHMgPSBbICJBSVQxIjogIiIsICJBSVQyIjoiIiwgIkFJVDMiOiIiLCAiQUlUNCI6IiIsICJBSVQ1IjoiIiwgIkFJVDYiOiIiLCAiQUlUNyI6IiJdOw0KICAgICAgcmV0dXJuIGFjY291bnRzOyAgDQogICAgfQ0KICAgIFN0cmluZyBjb250ZW50ID0gcmVzcG9uc2UuZ2V0Q29udGVudCgpDQogICAgaWYgKGNvbnRlbnQgPT0gbnVsbCkgew0KICAgICAgbG9nZ2VyLmRlYnVnKCJFeHBlY3RlZCBjb250ZW50IGZyb20gdGhlIHJlcXVlc3QgYnV0IGdvdCBubyBjb250ZW50IikNCiAgICAgIGRlZiAgYWNjb3VudHMgPSBbICJBSVQxIjogIiIsICJBSVQyIjoiIiwgIkFJVDMiOiIiLCAiQUlUNCI6IiIsICJBSVQ1IjoiIiwgIkFJVDYiOiIiLCAiQUlUNyI6IiJdOw0KICAgICAgcmV0dXJuIGFjY291bnRzOyAgDQogICAgfQ0KICAgIGRlZiByZXNwb25zZUNvbnRlbnQgPSAgbmV3IFhtbFNsdXJwZXIoKS5wYXJzZVRleHQoY29udGVudCkgOw0KDQogICAgU3RyaW5nIEFJVDEgPSAiIjsNCiAgICBTdHJpbmcgQUlUMiA9ICIiOw0KICAgIFN0cmluZyBBSVQzID0gIiI7DQogICAgU3RyaW5nIEFJVDQgPSAiIjsNCiAgICBTdHJpbmcgQUlUNSA9ICIiOw0KICAgIFN0cmluZyBBSVQ2ID0gIiI7DQogICAgU3RyaW5nIEFJVDcgPSAiIjsNCiAgICANCiAgICAgIGRlZiByZXNwb25zZUJvZHkgPSBjb250ZW50LnRvU3RyaW5nKCk7DQogICAgICBpbnQgaW5kZXhTdGFydCA9IHJlc3BvbnNlQm9keS5pbmRleE9mKCJBY2NvdW50aW5nRGltZW5zaW9uMT4iKTsNCiAgICAgIGludCBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDE9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDEuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUMT1BSVQxLnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjI+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDI9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDIuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUMj1BSVQyLnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjM+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDM9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDMuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUMz1BSVQzLnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjQ+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDQ9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDQuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUND1BSVQ0LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjU+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDU9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDUuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUNT1BSVQ1LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjY+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDY9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDYuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUNj1BSVQ2LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCiAgICAgICAgICAgIGluZGV4U3RhcnQgPSByZXNwb25zZUJvZHkuaW5kZXhPZigiQWNjb3VudGluZ0RpbWVuc2lvbjc+Iik7DQogICAgICBpbmRleEVuZCA9IDA7DQogICAgICBpZiAoaW5kZXhTdGFydCAhPS0xKXsNCiAgICAgICAgIEFJVDc9cmVzcG9uc2VCb2R5LnN1YnN0cmluZyhpbmRleFN0YXJ0KzIwKTsNCiAgICAgICAgIGluZGV4RW5kPUFJVDcuaW5kZXhPZigiPCIpOw0KICAgICAgICAgQUlUNz1BSVQ3LnN1YnN0cmluZygxLGluZGV4RW5kKTsNCiAgICAgIH0NCg0KICAgIGxvZ2dlci5kZWJ1ZygicmVwb25zZUNvbnRlbnQ9IiArIHJlc3BvbnNlQ29udGVudCk7DQogICAgDQogICAgZGVmICBhY2NvdW50cyA9IFsgIkFJVDEiOiBBSVQxLCAiQUlUMiI6QUlUMiwgIkFJVDMiOkFJVDMsICJBSVQ0IjpBSVQ0LCAiQUlUNSI6QUlUNSwgIkFJVDYiOkFJVDYsICJBSVQ3IjpBSVQ3XTsNCiAgICByZXR1cm4gYWNjb3VudHM7DQogIH0NCn0=\"}}}"}