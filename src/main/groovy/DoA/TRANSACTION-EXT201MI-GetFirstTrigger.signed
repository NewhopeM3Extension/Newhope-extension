{"signature":"Arqt8ZCJRpTRb/92Vm5ZO3/MrH3GEBg4Dvh29mWw418cpCMUJTVp2SW6dnGuQVXjZXVcztdDekMaZ73lWRnD/I+cUyiVBIrGBoaofO6SyW24nEjhKaUb7Q+T2xPkn0fzH47gfuK1TTCaG0wpHyB8yuewM800vJ/P4glAtzcrvqtPsAGiU2N/OkbBzLf2qZ/KBdzrOjyncw8sBm2jAhfoueNPgUX3cTiiN9glS+o9VS2VhY86MIOtCt/+xGxQAAv8liSxr3sIVpoCn45NZOyRqTEXJw8N6kf/L0Ex9r1tT9/Kqw+eV2iGmktKAiCXGcGsoyuSsGFuhJtHY/QoCPfu3o4i6AJDPS5LYH33RkL+zGaE7pnSwuIa+hSPNXrZCi2QkMNvQOJM+zwmQnGq7FbDAaO3juH+tMqcfpTMuS8v2IYtRn5/UZbIm++a5VNVMwkdMx0HDdh5emtuZSB50u9iF41tgKbdTB6sMa3RnwgSPxKftoNmWpujRfA/yaQ1Xb/KkwzdvR2YffGX+bjnE0QriG4q8daaBHPwDM9hGFLF3tsgYRvj4pi2HuFX/cTsiKid66oKc0/zHSwCPnAnTFNBgIXnk3ju+vaGjt3Ulixzi/JqIeB4vcNk/elCCnuFhcBalKOyb5P6dP9R2pu9RjzPHEo7uXHzk3OqYjBVzZ0HAHWV","signedBy":"XtendM3 Team","signed":1743038717421,"message":"Signed by XtendM3 Team","extension":"{\"programModules\":{\"EXT201MI\":{\"program\":\"EXT201MI\",\"triggers\":{},\"transactions\":{\"GetFirstTrigger\":{\"sourceUuid\":\"58789e01-7408-4cce-b293-151604a44c24\",\"name\":\"GetFirstTrigger\",\"program\":\"EXT201MI\",\"description\":\"Workflow Audit Trail\",\"active\":true,\"multi\":false,\"modified\":1742861463618,\"modifiedBy\":\"WLAM\",\"outputFields\":[{\"name\":\"FLAG\",\"description\":\"First trigger\",\"length\":1,\"mandatory\":false,\"type\":\"A\"}],\"inputFields\":[{\"name\":\"CONO\",\"description\":\"Company\",\"length\":3,\"mandatory\":true,\"type\":\"N\"},{\"name\":\"DIVI\",\"description\":\"Division\",\"length\":3,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"WFNM\",\"description\":\"Workflow Name\",\"length\":50,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"PUNO\",\"description\":\"Purchase order\",\"length\":10,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"PNLI\",\"description\":\"Purchase order line number\",\"length\":3,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"PNLS\",\"description\":\"Purchase order line subnumber\",\"length\":5,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"SUNO\",\"description\":\"Supplier\",\"length\":10,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"SINO\",\"description\":\"Supplier invoice number\",\"length\":24,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"INYR\",\"description\":\"Invoice Year\",\"length\":4,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"REPN\",\"description\":\"Receiving number\",\"length\":10,\"mandatory\":false,\"type\":\"A\"}],\"utilities\":[]}},\"batches\":{}}},\"utilities\":{},\"sources\":{\"58789e01-7408-4cce-b293-151604a44c24\":{\"uuid\":\"58789e01-7408-4cce-b293-151604a44c24\",\"updated\":1742877035390,\"updatedBy\":\"WLAM\",\"created\":1742776730480,\"createdBy\":\"WLAM\",\"apiVersion\":\"0.21\",\"beVersion\":\"16.0.0.20250122200256.4\",\"codeHash\":\"D60946025053329026E48CDA50744038D0011CFD48B53FE1BD67390396826766\",\"code\":\"LyoNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9USUNFICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgVEhJUyBTT0ZUV0FSRSBJUyBUSEUgUFJPUEVSVFkgT0YgQU5EIENPTlRBSU5TICAgICAgICAgICAgICoNCiAqICAgQ09ORklERU5USUFMIElORk9STUFUSU9OIE9GIElORk9SIEFORC9PUiBJVFMgQUZGSUxJQVRFUyAgICoNCiAqICAgT1IgU1VCU0lESUFSSUVTIEFORCBTSEFMTCBOT1QgQkUgRElTQ0xPU0VEIFdJVEhPVVQgUFJJT1IgICoNCiAqICAgV1JJVFRFTiBQRVJNSVNTSU9OLiBMSUNFTlNFRCBDVVNUT01FUlMgTUFZIENPUFkgQU5EICAgICAgICoNCiAqICAgQURBUFQgVEhJUyBTT0ZUV0FSRSBGT1IgVEhFSVIgT1dOIFVTRSBJTiBBQ0NPUkRBTkNFIFdJVEggICoNCiAqICAgVEhFIFRFUk1TIE9GIFRIRUlSIFNPRlRXQVJFIExJQ0VOU0UgQUdSRUVNRU5ULiAgICAgICAgICAgICoNCiAqICAgQUxMIE9USEVSIFJJR0hUUyBSRVNFUlZFRC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgKGMpIENPUFlSSUdIVCAyMDIwIElORk9SLiAgQUxMIFJJR0hUUyBSRVNFUlZFRC4gICAgICAgICAgICoNCiAqICAgVEhFIFdPUkQgQU5EIERFU0lHTiBNQVJLUyBTRVQgRk9SVEggSEVSRUlOIEFSRSAgICAgICAgICAgICoNCiAqICAgVFJBREVNQVJLUyBBTkQvT1IgUkVHSVNURVJFRCBUUkFERU1BUktTIE9GIElORk9SICAgICAgICAgICoNCiAqICAgQU5EL09SIElUUyBBRkZJTElBVEVTIEFORCBTVUJTSURJQVJJRVMuIEFMTCBSSUdIVFMgICAgICAgICoNCiAqICAgUkVTRVJWRUQuICBBTEwgT1RIRVIgVFJBREVNQVJLUyBMSVNURUQgSEVSRUlOIEFSRSAgICAgICAgICoNCiAqICAgVEhFIFBST1BFUlRZIE9GIFRIRUlSIFJFU1BFQ1RJVkUgT1dORVJTLiAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAqLw0KDQogaW1wb3J0IGdyb292eS5sYW5nLkNsb3N1cmU7DQogaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7DQogaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KIGltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOw0KIGltcG9ydCBncm9vdnkuanNvbi5Kc29uU2x1cnBlcjsNCiBpbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7DQogaW1wb3J0IGphdmEubWF0aC5Sb3VuZGluZ01vZGU7DQogaW1wb3J0IGphdmEudGV4dC5EZWNpbWFsRm9ybWF0Ow0KIGltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KLyoNCiAqTW9kaWZpY2F0aW9uIGFyZWEgLSBNMw0KICpOYnIgICAgICAgICAgICAgICBEYXRlICAgICAgVXNlciBpZCAgICAgRGVzY3JpcHRpb24NCiAqRG9BICAgICAgICAgICAgICAgMjAyNDEyMDYgIEtWRVJDTyAgICAgIEdldCByZWNvcmQgDQogKg0KKi8NCg0KIC8qKg0KICAqIEdldCBBdWRpdCBUcmFpbCBleHRlbnNpb24gdGFibGUgcm93DQogKi8NCiBwdWJsaWMgY2xhc3MgR2V0Rmlyc3RUcmlnZ2VyIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7DQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7DQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcjsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgSW9uQVBJIGlvbjsNCiAgDQogIC8vSW5wdXQgZmllbGRzDQogIHByaXZhdGUgU3RyaW5nIGRpdmk7DQogIHByaXZhdGUgU3RyaW5nIHdmbm07DQogIHByaXZhdGUgU3RyaW5nIHB1bm87DQogIHByaXZhdGUgU3RyaW5nIHBubGk7DQogIHByaXZhdGUgU3RyaW5nIHBubHM7DQogIHByaXZhdGUgU3RyaW5nIHN1bm87DQogIHByaXZhdGUgU3RyaW5nIHNpbm87DQogIHByaXZhdGUgU3RyaW5nIGlueXI7DQogIHByaXZhdGUgU3RyaW5nIHJlcG47DQogIA0KICBwcml2YXRlIGludCBYWENPTk87DQogIA0KICBwcml2YXRlIGludCBub09mUm93cyA9IDA7DQogIHByaXZhdGUgU3RyaW5nIGZpcnN0VHJpZ2dlciA9ICJOIjsNCiAgcHJpdmF0ZSBTdHJpbmcgZXh0YXByX1JHRFQgPSAiIjsNCiAgcHJpdmF0ZSBTdHJpbmcgYWN0YSA9ICIiOw0KDQogIHByaXZhdGUgTGlzdCBsc3RFWFRXQVQ7DQogIHByaXZhdGUgYm9vbGVhbiBjcmVhdGVkQnk7DQogICANCiAvKg0KICAqIEdldCBBdWRpdCBUcmFpbCBleHRlbnNpb24gdGFibGUgcm93DQogKi8NCiAgcHVibGljIEdldEZpcnN0VHJpZ2dlcihNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBMb2dnZXJBUEkgbG9nZ2VyLCBQcm9ncmFtQVBJIHByb2dyYW0sIElvbkFQSSBpb24pIHsNCiAgICB0aGlzLm1pID0gbWk7DQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOw0KICAJdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOw0KICAJdGhpcy5sb2dnZXIgPSBsb2dnZXI7DQogIAl0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KCSAgdGhpcy5pb24gPSBpb247DQogICAgDQogIH0NCiAgDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgDQogICAgbm9PZlJvd3MgPSAwOw0KICAgIGNyZWF0ZWRCeSA9IGZhbHNlOw0KICAgIGV4dGFwcl9SR0RUID0gIjAiOw0KICAJZGl2aSA9IG1pLmluRGF0YS5nZXQoIkRJVkkiKSA9PSBudWxsID8gJycgOiBtaS5pbkRhdGEuZ2V0KCJESVZJIikudHJpbSgpOw0KICAgIGlmIChkaXZpLmlzRW1wdHkoKSkgew0KICAgICAgbWkuZXJyb3IoIkRpdmlzaW9uIG11c3QgYmUgZW50ZXJlZCIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgCXdmbm0gPSBtaS5pbkRhdGEuZ2V0KCJXRk5NIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiV0ZOTSIpLnRyaW0oKTsNCiAgICBpZiAod2ZubS5pc0VtcHR5KCkpIHsNCiAgICAgIG1pLmVycm9yKCJXb3JrZmxvdyBuYW1lIG11c3QgYmUgZW50ZXJlZCIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgCXB1bm8gPSBtaS5pbkRhdGEuZ2V0KCJQVU5PIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiUFVOTyIpLnRyaW0oKTsNCiAgCXBubGkgPSBtaS5pbkRhdGEuZ2V0KCJQTkxJIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiUE5MSSIpLnRyaW0oKTsNCiAgCXBubHMgPSBtaS5pbkRhdGEuZ2V0KCJQTkxTIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiUE5MUyIpLnRyaW0oKTsNCiAgCXN1bm8gPSBtaS5pbkRhdGEuZ2V0KCJTVU5PIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiU1VOTyIpLnRyaW0oKTsNCiAgCXNpbm8gPSBtaS5pbkRhdGEuZ2V0KCJTSU5PIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiU0lOTyIpLnRyaW0oKTsNCiAgCWlueXIgPSBtaS5pbkRhdGEuZ2V0KCJJTllSIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiSU5ZUiIpLnRyaW0oKTsNCiAgCXJlcG4gPSBtaS5pbkRhdGEuZ2V0KCJSRVBOIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiUkVQTiIpLnRyaW0oKTsNCg0KICAgIFhYQ09OTyA9IChJbnRlZ2VyKXByb2dyYW0uTERBWkQuQ09OTzsNCg0KICAgIC8vIFZhbGlkYXRlIGlucHV0IGZpZWxkcyBmb3Igd29ya2Zsb3cgDQoJCWlmICh3Zm5tLmlzRW1wdHkoKSkgew0KICAgICAgbWkuZXJyb3IoIldvcmtmbG93IG5hbWUgbXVzdCBiZSBlbnRlcmVkIik7DQogICAgICByZXR1cm47DQogICAgfQ0KDQogICAgLy8gdmFsaWRhdGUgaW5wdXQgZmllbGRzIGZvciBTdXBwbGllciBJbnZvaWNlIGFuZCBQdXJjaGFzZSBPcmRlciBMaW5lDQogICAgaWYgKHdmbm0uZXF1YWxzKCJTdXBwbGllckludm9pY2VMaW5lX0FwcHJvdmFsX05vbl9NYXRjaGVkIikgfHwgd2ZubS5lcXVhbHMoIlN1cHBsaWVySW52b2ljZUxpbmVfUE9SZWNlaXB0IikgfHwgd2ZubS5lcXVhbHMoIlBPTGluZV9BdXRob3Jpc2F0aW9uIikpIHsNCgkJICAgaWYgKHB1bm8uaXNFbXB0eSgpKSB7DQogICAgICAgICAgbWkuZXJyb3IoIlBPIG51bWJlciBtdXN0IGJlIGVudGVyZWQiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgfQ0KCQkgICBpZiAocG5saS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICBtaS5lcnJvcigiUE8gbGluZSBudW1iZXIgbXVzdCBiZSBlbnRlcmVkIik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgIH0NCgkJICAgaWYgKHBubHMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgbWkuZXJyb3IoIlBPIHN1YiBsaW5lIG5vIG11c3QgYmUgZW50ZXJlZCIpOw0KICAgICAgICAgIHJldHVybjsNCgkJICAgfSAgICAgIA0KICAgIH0NCiAgICAvLyB2YWxpZGF0ZSBpbnB1dCBmaWVsZHMgZm9yIFN1cHBsaWVyIEludm9pY2UgDQogICAgaWYgKHdmbm0uZXF1YWxzKCJTdXBwbGllckludm9pY2VMaW5lX0FwcHJvdmFsX05vbl9NYXRjaGVkIikgfHwgd2ZubS5lcXVhbHMoIlN1cHBsaWVySW52b2ljZUxpbmVfUE9SZWNlaXB0IikgfHwgd2ZubS5lcXVhbHMoIkludm9pY2VfTm9fUE9fQXBwcm92YWwiKSkgew0KICAgICAgIGlmIChzdW5vLmlzRW1wdHkoKSkgew0KICAgICAgICAgIG1pLmVycm9yKCJTdXBwbGllciBubyBtdXN0IGJlIGVudGVyZWQiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCgkJICAgIGlmIChzaW5vLmlzRW1wdHkoKSkgew0KICAgICAgICAgIG1pLmVycm9yKCJTdXBwbGllciBJbnZvaWNlIG5vIG11c3QgYmUgZW50ZXJlZCIpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KCQkgICAgaWYgKGlueXIuaXNFbXB0eSgpKSB7DQogICAgICAgICAgbWkuZXJyb3IoIkludm9pY2UgeWVhciBtdXN0IGJlIGVudGVyZWQiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyB2YWxpZGF0ZSBpbnB1dCBmaWVsc2QgZm9yIFB1cmNoYXNlIFJlcXVpc2l0aW9uDQogICAgaWYgKHdmbm0uZXF1YWxzKCJQT1JlcXVpc2l0b25fQXV0aG9yaXNhdGlvbiIpKSB7DQoJCSAgIGlmIChwdW5vLmlzRW1wdHkoKSkgew0KICAgICAgICAgIG1pLmVycm9yKCJQUiBubyBtdXN0IGJlIGVudGVyZWQiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgfQ0KCQkgICBpZiAocG5saS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICBtaS5lcnJvcigiUFIgc3ViIGxpbmUgbm8gbXVzdCBiZSBlbnRlcmVkIik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgIH0NCgkJICAgaWYgKHBubHMuaXNFbXB0eSgpKSB7DQogICAgICAgICAgbWkuZXJyb3IoIlBSIHN1YiBsaW5lIG5vIDIgbXVzdCBiZSBlbnRlcmVkIik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgIH0NCiAgICAgICBpbnlyID0gIjAiOw0KICAgICAgIHJlcG4gPSAiMCI7DQogICAgfQ0KICAgIA0KICAgIC8vIHNldCBpbnlyLCByZXBuIHRvIDAgZm9yIFBPTGluZV9BdXRob3Jpc2F0aW9uDQogICAgaWYgKHdmbm0uZXF1YWxzKCJQT0xpbmVfQXV0aG9yaXNhdGlvbiIpKSB7DQogICAgICAgaW55ciA9ICIwIjsNCiAgICAgICByZXBuID0gIjAiOw0KICAgIH0NCiAgICAvLyBzZXQgcG5saSwgcG5scyB0byAwIGZvciBJbnZvaWNlIE5vIFBPIEludm9pY2VfTm9fUE9fQXBwcm92YWwNCiAgICBpZiAod2ZubS5lcXVhbHMoIkludm9pY2VfTm9fUE9fQXBwcm92YWwiKSkgew0KICAgICAgIHBubGkgPSAiMCI7DQogICAgICAgcG5scyA9ICIwIjsNCiAgICAgICByZXBuID0gIjAiOw0KICAgIH0NCiAgICANCiAgICBpZiAocmVwbi5pc0VtcHR5KCkpIHsNCiAgICAgIHJlcG4gPSAiMCI7DQogICAgfQ0KDQogICAgLy8gR2V0IHRoZSBjcmVhdGlvbiBkYXRlIGZyb20gRVhUQVBSIGZvciBQTyBhbmQgUFINCiAgICBpZiAod2ZubS5lcXVhbHMoIlBPTGluZV9BdXRob3Jpc2F0aW9uIikgfHwgd2ZubS5lcXVhbHMoIlBPUmVxdWlzaXRvbl9BdXRob3Jpc2F0aW9uIikpIHsNCiAgICAgIC8vIEdldCB0aGUgZGl2aXNpb24gb2YgUE8gb3IgUFIgDQogICAgICBpZiAod2ZubS5lcXVhbHMoIlBPUmVxdWlzaXRvbl9BdXRob3Jpc2F0aW9uIikpIHsNCiAgICAgICAgREJBY3Rpb24gcXVlcnlNUE9QTFAgPSBkYXRhYmFzZS50YWJsZSgiTVBPUExQIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJQT0NPTk8iLCAiUE9QTFBOIiwgIlBPUExQUyIsICJQT1BMUDIiLCAiUE9GQUNJIikuYnVpbGQoKTsNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTVBPUExQID0gcXVlcnlNUE9QTFAuZ2V0Q29udGFpbmVyKCk7DQogICAgICAgIGNvbnRhaW5lck1QT1BMUC5zZXQoIlBPQ09OTyIsIFhYQ09OTyk7DQogICAgICAgIGNvbnRhaW5lck1QT1BMUC5zZXQoIlBPUExQTiIsIHB1bm8udG9JbnRlZ2VyKCkpOw0KICAgICAgICBjb250YWluZXJNUE9QTFAuc2V0KCJQT1BMUFMiLCBwbmxpLnRvSW50ZWdlcigpKTsNCiAgICAgICAgY29udGFpbmVyTVBPUExQLnNldCgiUE9QTFAyIiwgcG5scy50b0ludGVnZXIoKSk7DQogICAgICAgIGlmIChxdWVyeU1QT1BMUC5yZWFkKGNvbnRhaW5lck1QT1BMUCkpIHsNCiAgICAgICAgICBkaXZpID0gY29udGFpbmVyTVBPUExQLmdldCgiUE9GQUNJIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZGl2aSA9ICIiOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAod2ZubS5lcXVhbHMoIlBPTGluZV9BdXRob3Jpc2F0aW9uIikpIHsNCiAgICAgICAgREJBY3Rpb24gcXVlcnlNUEhFQUQgPSBkYXRhYmFzZS50YWJsZSgiTVBIRUFEIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJJQUNPTk8iLCAiSUFQVU5PIiwgIklBRElWSSIpLmJ1aWxkKCk7DQogICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1QSEVBRCA9IHF1ZXJ5TVBIRUFELmdldENvbnRhaW5lcigpOw0KICAgICAgICBjb250YWluZXJNUEhFQUQuc2V0KCJJQUNPTk8iLCBYWENPTk8pOw0KICAgICAgICBjb250YWluZXJNUEhFQUQuc2V0KCJJQVBVTk8iLCBwdW5vKTsNCiAgICAgICAgaWYgKHF1ZXJ5TVBIRUFELnJlYWQoY29udGFpbmVyTVBIRUFEKSkgew0KICAgICAgICAgIGRpdmkgPSBjb250YWluZXJNUEhFQUQuZ2V0KCJJQURJVkkiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBkaXZpID0gIiI7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIERCQWN0aW9uIHF1ZXJ5RVhUQVBSID0gZGF0YWJhc2UudGFibGUoIkVYVEFQUiIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiRVhDT05PIiwgIkVYUFVOTyIsICJFWFBOTEkiLCAiRVhQTkxTIiwgIkVYUkdEVCIpLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJFWFRBUFIgPSBxdWVyeUVYVEFQUi5nZXRDb250YWluZXIoKTsNCiAgICAgIGNvbnRhaW5lckVYVEFQUi5zZXQoIkVYQ09OTyIsIFhYQ09OTyk7DQogICAgICBjb250YWluZXJFWFRBUFIuc2V0KCJFWFBVTk8iLCBwdW5vKTsNCiAgICAgIGNvbnRhaW5lckVYVEFQUi5zZXQoIkVYUE5MSSIsIHBubGkudG9JbnRlZ2VyKCkpOw0KICAgICAgY29udGFpbmVyRVhUQVBSLnNldCgiRVhQTkxTIiwgcG5scy50b0ludGVnZXIoKSk7DQogICAgICBpZiAocXVlcnlFWFRBUFIucmVhZChjb250YWluZXJFWFRBUFIpKSB7DQogICAgICAgIGV4dGFwcl9SR0RUID0gY29udGFpbmVyRVhUQVBSLmdldCgiRVhSR0RUIi50b1N0cmluZygpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGV4dGFwcl9SR0RUID0gIjAiOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBHZXQgdGhlIG5vIG9mIFJvd3MgYW5kIGNyZWF0aW9uIGRhdGUgZm9yIGFjdGlvbiAnQ3JlYXRlZCBCeScNCiAgICBsc3RFWFRXQVQgPSBuZXcgQXJyYXlMaXN0KCk7DQogICAgDQogICAgREJBY3Rpb24gcXVlcnlFWFRXQVQgPSBkYXRhYmFzZS50YWJsZSgiRVhUV0FUIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJFWENPTk8iLCAiRVhESVZJIiwgIkVYV0ZOTSIsICJFWFBVTk8iLCAiRVhQTkxJIiwgIkVYUE5MUyIsICJFWFNVTk8iLCAiRVhTSU5PIiwgIkVYSU5ZUiIsICJFWFJFUE4iLCAiRVhBUFBSIiwgIkVYQUNUQSIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUV0FUID0gcXVlcnlFWFRXQVQuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyRVhUV0FULnNldCgiRVhDT05PIiwgWFhDT05PKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWERJVkkiLCBkaXZpKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWFdGTk0iLCB3Zm5tKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWFBVTk8iLCBwdW5vKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWFBOTEkiLCBwbmxpLnRvSW50ZWdlcigpKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWFBOTFMiLCBwbmxzLnRvSW50ZWdlcigpKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWFNVTk8iLCBzdW5vKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWFNJTk8iLCBzaW5vKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWElOWVIiLCBpbnlyLnRvSW50ZWdlcigpKTsNCiAgICBjb250YWluZXJFWFRXQVQuc2V0KCJFWFJFUE4iLCByZXBuLnRvSW50ZWdlcigpKTsNCg0KICAgIHF1ZXJ5RVhUV0FULnJlYWRBbGwoY29udGFpbmVyRVhUV0FULCAxMCwgOTk5LCBsaXN0RVhUV0FUKTsNCiAgICANCiAgICBpZiAobHN0RVhUV0FULnNpemUoKSA+IDApIHsNCiAgICAgIGZvciAoaW50IGk9MDtpPGxzdEVYVFdBVC5zaXplKCk7aSsrKSB7DQogICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcmVjb3JkID0gKE1hcDxTdHJpbmcsIFN0cmluZz4pIGxzdEVYVFdBVFtpXTsNCiAgICAgICAgbm9PZlJvd3MrKzsNCiAgICAgICAgaWYgKGFjdGEuZXF1YWxzKCJDcmVhdGVkIGJ5IikpIHsNCiAgICAgICAgICBjcmVhdGVkQnkgPSB0cnVlOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIEdldCBjdXJyZW50IERhdGUNCiAgICBTdHJpbmcgY3VycmVudERhdGUgPSBMb2NhbERhdGUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSk7DQogICAgaWYgKG5vT2ZSb3dzID4gMSB8fCBjcmVhdGVkQnkgPT0gdHJ1ZSkgew0KICAgICAgZmlyc3RUcmlnZ2VyID0gIk4iOw0KICAgIH0gZWxzZSB7DQogICAgICBpZiAobm9PZlJvd3MgPT0gMCB8fCBleHRhcHJfUkdEVC5lcXVhbHMoIjAiKSB8fCAoY3JlYXRlZEJ5ID0gZmFsc2UgJiYgY3VycmVudERhdGUuZXF1YWxzKGV4dGFwcl9SR0RUKSkgKSB7DQogICAgICAgIGZpcnN0VHJpZ2dlciA9ICJZIjsNCiAgICAgIH0NCiAgICB9DQogICAgbWkub3V0RGF0YS5wdXQoIkZMQUciLCBmaXJzdFRyaWdnZXIpOw0KICAgIG1pLndyaXRlKCk7DQoNCiAgfQ0KICANCiAgLy9saXN0RVhUVU1PIC0gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0dXJuIEVYVFVNTw0KICBDbG9zdXJlPD8+IGxpc3RFWFRXQVQgPSB7IERCQ29udGFpbmVyIGNvbnRFWFRXQVQgLT4NCiAgICBTdHJpbmcgY29ubyA9IGNvbnRFWFRXQVQuZ2V0KCJFWENPTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgZGl2aSA9IGNvbnRFWFRXQVQuZ2V0KCJFWERJVkkiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgd2ZubSA9IGNvbnRFWFRXQVQuZ2V0KCJFWFdGTk0iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBTdHJpbmcgcHVubyA9IGNvbnRFWFRXQVQuZ2V0KCJFWFBVTk8iKS50b1N0cmluZygpOw0KICAgIFN0cmluZyBwbmxpID0gY29udEVYVFdBVC5nZXQoIkVYUE5MSSIpLnRvU3RyaW5nKCk7DQogICAgU3RyaW5nIHBubHMgPSBjb250RVhUV0FULmdldCgiRVhQTkxTIikudG9TdHJpbmcoKTsNCiAgICBTdHJpbmcgc3VubyA9IGNvbnRFWFRXQVQuZ2V0KCJFWFNVTk8iKS50b1N0cmluZygpOw0KICAgIFN0cmluZyBzaW5vID0gY29udEVYVFdBVC5nZXQoIkVYU0lOTyIpLnRvU3RyaW5nKCk7DQogICAgU3RyaW5nIGlueXIgPSBjb250RVhUV0FULmdldCgiRVhJTllSIikudG9TdHJpbmcoKTsNCiAgICBTdHJpbmcgcmVwbiA9IGNvbnRFWFRXQVQuZ2V0KCJFWFJFUE4iKS50b1N0cmluZygpOw0KICAgIFN0cmluZyBhcHByID0gY29udEVYVFdBVC5nZXQoIkVYQVBQUiIpLnRvU3RyaW5nKCk7DQogICAgU3RyaW5nIGFjdGEgPSBjb250RVhUV0FULmdldCgiRVhBQ1RBIikudG9TdHJpbmcoKS50cmltKCk7DQoNCiAgICBNYXA8U3RyaW5nLFN0cmluZz4gbWFwID0gW0NPTk86IGNvbm8sIERJVkk6IGRpdmksIFdGTk06IHdmbm0sIFBVTk86IHB1bm8sIFBOTEk6IHBubGksIFBOTFM6IHBubHMsIFNVTk86IHN1bm8sIFNJTk86IHNpbm8sIElOWVI6IGlueXIsIFJFUE46IHJlcG4sIEFQUFI6IGFwcHIsIEFDVEE6IGFjdGFdOw0KICAgIGxzdEVYVFdBVC5hZGQobWFwKTsgIA0KICB9DQp9\"}}}"}