{"signature":"Ap8de1LdqdKbGmP9COpc6OXdzPu3fv8pP21X4PDBVNjYG9WAQ6TO5K64tfZtWuX994WPckWVPYIGUShAsBA1QcnCO5S+C8iUTkeqarO3quC+wCaJHXK3/fkw3xntg6wPBf/ezB0SfOcR3p+elXrR/HEW2rTsJvGZMDw3fFlM0rkwMHBqIidkCNbdN4KnHzrmhxgBs8xNNCbxp9ntnvjid/2m5w+sxKHojZyikB1IIuChdtwsiIDABO/yGbiPdLCfblHRnura0Thgpx7z2yNCw5S1Uj3JdsdAF4D8BMtMc5Hnc4rWE2/A1xXVxjf27793cIuw80ykU3Cc0HjIvHZG7sjC1hd6RztV3k2qMqBPd2KHUOGlGFwrRD8klXMUMSOP2q96yymsm5Z0tm8f3Nf47LeFXUhbMxYTR3d1atAvxf7zQ44MhQZhYrrLoD/tQAHjbM+HbroaGbcF61G5V4yH6ZSKkkk/JTIY2ge8p1AxaC4lb87dINQcPa4ZTY4nTEBSCl9zO3oRlAGxKK8XiVaWBhx7qMasypMFygD8jLUC9/3/Rx0tRfcNFXKDxcUa4Ns4TWlHeErkczHdaDNpK7/iLrpQIObE4wQujQy3ltWVLcj/g2fswn7P5jl/EWcIuTS3XJdgzoqfwbZ4p/KABAlMJHWUoiyXowde1WXQKux2t/Xz","signedBy":"Erfan Yousefi","signed":1697773127106,"message":"Signed by XtendM3 Team","extension":"{\"programModules\":{\"EXT200MI\":{\"program\":\"EXT200MI\",\"triggers\":{},\"transactions\":{\"Add\":{\"sourceUuid\":\"94a04220-ce7b-412b-a9ee-5d93b5fdc17d\",\"name\":\"Add\",\"program\":\"EXT200MI\",\"description\":\"Add\",\"active\":true,\"multi\":true,\"modified\":1697692490567,\"modifiedBy\":\"KVERCO\",\"outputFields\":[{\"name\":\"CONO\",\"description\":\"Company\",\"length\":3,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"PUNO\",\"description\":\"Purchase Orderno\",\"length\":10,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"APPR\",\"description\":\"Approver\",\"length\":10,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"ASTS\",\"description\":\"Approver Status\",\"length\":30,\"mandatory\":false,\"type\":\"A\"}],\"inputFields\":[{\"name\":\"PUNO\",\"description\":\"Purchase Order number\",\"length\":10,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"PNLI\",\"description\":\"Line  Number\",\"length\":3,\"mandatory\":true,\"type\":\"N\"},{\"name\":\"PNLS\",\"description\":\"Sub Number\",\"length\":3,\"mandatory\":true,\"type\":\"N\"},{\"name\":\"APPR\",\"description\":\"Approver\",\"length\":10,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"ASTS\",\"description\":\"Approver Status\",\"length\":30,\"mandatory\":true,\"type\":\"A\"},{\"name\":\"SUNO\",\"description\":\"Supplier\",\"length\":10,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"ORTY\",\"description\":\"OrderType\",\"length\":3,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"PUPR\",\"description\":\"Purchase Price\",\"length\":17,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"USID\",\"description\":\"Created by\",\"length\":10,\"mandatory\":false,\"type\":\"A\"},{\"name\":\"ORQA\",\"description\":\"Order Quantity\",\"length\":17,\"mandatory\":false,\"type\":\"N\"},{\"name\":\"LNAM\",\"description\":\"Line Amount\",\"length\":17,\"mandatory\":false,\"type\":\"N\"}],\"utilities\":[]}},\"batches\":{}}},\"utilities\":{},\"sources\":{\"94a04220-ce7b-412b-a9ee-5d93b5fdc17d\":{\"uuid\":\"94a04220-ce7b-412b-a9ee-5d93b5fdc17d\",\"updated\":1697764740518,\"updatedBy\":\"KVERCO\",\"created\":1668722408989,\"createdBy\":\"WZHAO\",\"apiVersion\":\"0.9\",\"beVersion\":\"16.0.0.20230822184312.6\",\"codeHash\":\"2D986DF5C3F540A07D80131D36C570636DC9AA5BCCEB83896D9EFF167653D416\",\"code\":\"LyoNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgTk9USUNFICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgVEhJUyBTT0ZUV0FSRSBJUyBUSEUgUFJPUEVSVFkgT0YgQU5EIENPTlRBSU5TICAgICAgICAgICAgICoNCiAqICAgQ09ORklERU5USUFMIElORk9STUFUSU9OIE9GIElORk9SIEFORC9PUiBJVFMgQUZGSUxJQVRFUyAgICoNCiAqICAgT1IgU1VCU0lESUFSSUVTIEFORCBTSEFMTCBOT1QgQkUgRElTQ0xPU0VEIFdJVEhPVVQgUFJJT1IgICoNCiAqICAgV1JJVFRFTiBQRVJNSVNTSU9OLiBMSUNFTlNFRCBDVVNUT01FUlMgTUFZIENPUFkgQU5EICAgICAgICoNCiAqICAgQURBUFQgVEhJUyBTT0ZUV0FSRSBGT1IgVEhFSVIgT1dOIFVTRSBJTiBBQ0NPUkRBTkNFIFdJVEggICoNCiAqICAgVEhFIFRFUk1TIE9GIFRIRUlSIFNPRlRXQVJFIExJQ0VOU0UgQUdSRUVNRU5ULiAgICAgICAgICAgICoNCiAqICAgQUxMIE9USEVSIFJJR0hUUyBSRVNFUlZFRC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqICAgKGMpIENPUFlSSUdIVCAyMDIwIElORk9SLiAgQUxMIFJJR0hUUyBSRVNFUlZFRC4gICAgICAgICAgICoNCiAqICAgVEhFIFdPUkQgQU5EIERFU0lHTiBNQVJLUyBTRVQgRk9SVEggSEVSRUlOIEFSRSAgICAgICAgICAgICoNCiAqICAgVFJBREVNQVJLUyBBTkQvT1IgUkVHSVNURVJFRCBUUkFERU1BUktTIE9GIElORk9SICAgICAgICAgICoNCiAqICAgQU5EL09SIElUUyBBRkZJTElBVEVTIEFORCBTVUJTSURJQVJJRVMuIEFMTCBSSUdIVFMgICAgICAgICoNCiAqICAgUkVTRVJWRUQuICBBTEwgT1RIRVIgVFJBREVNQVJLUyBMSVNURUQgSEVSRUlOIEFSRSAgICAgICAgICoNCiAqICAgVEhFIFBST1BFUlRZIE9GIFRIRUlSIFJFU1BFQ1RJVkUgT1dORVJTLiAgICAgICAgICAgICAgICAgICoNCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoNCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAqLw0KDQogaW1wb3J0IGdyb292eS5sYW5nLkNsb3N1cmUNCiANCiBpbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTsNCiBpbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7DQogaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQogaW1wb3J0IGphdmEudGltZS5ab25lSWQ7DQogaW1wb3J0IGdyb292eS5qc29uLkpzb25TbHVycGVyOw0KIGltcG9ydCBqYXZhLm1hdGguQmlnRGVjaW1hbDsNCiBpbXBvcnQgamF2YS5tYXRoLlJvdW5kaW5nTW9kZTsNCiBpbXBvcnQgamF2YS50ZXh0LkRlY2ltYWxGb3JtYXQ7DQoNCg0KLyoNCiAqTW9kaWZpY2F0aW9uIGFyZWEgLSBNMw0KICpOYnIgICAgICAgICAgICAgICBEYXRlICAgICAgVXNlciBpZCAgICAgRGVzY3JpcHRpb24NCiAqQUJGX1JfMjAwICAgICAgICAgMjAyMjA0MDUgIFJEUklFU1NFTiAgIE1vZHMgQkYwMjAwLSBXcml0ZS9VcGRhdGUgRVhUQVBSIHJlY29yZHMgYXMgYSBiYXNpcyBmb3IgUE8gYXV0aG9yaXphdGlvbiBwcm9jZXNzDQogKkFCRl9SXzIwMCAgICAgICAgIDIwMjIwNTExICBLVkVSQ08gICAgICBVcGRhdGUgZm9yIFh0ZW5kTTMgcmV2aWV3IGZlZWRiYWNrDQogKg0KICovDQoNCi8qKg0KKiAtIEFkZCBQdXJjaGFzZSBBdXRob3Jpc2F0aW9uIGV4dGVuc2lvbiB0YWJsZSByb3cNCiovDQpwdWJsaWMgY2xhc3MgQWRkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7DQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7DQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcjsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgSW9uQVBJIGlvbjsNCiAgDQogIC8vSW5wdXQgZmllbGRzDQogIHByaXZhdGUgU3RyaW5nIHB1bm87DQogIHByaXZhdGUgU3RyaW5nIHBubGk7DQogIHByaXZhdGUgU3RyaW5nIHBubHM7DQogIHByaXZhdGUgU3RyaW5nIGFwcHI7DQogIHByaXZhdGUgU3RyaW5nIGFzdHM7DQogIHByaXZhdGUgU3RyaW5nIHN1bm87DQogIHByaXZhdGUgU3RyaW5nIG9ydHk7DQogIHByaXZhdGUgU3RyaW5nIHB1cHI7DQogIHByaXZhdGUgU3RyaW5nIHBscG47DQogIHByaXZhdGUgU3RyaW5nIHVzaWQ7DQogIHByaXZhdGUgU3RyaW5nIG9ycWE7DQogIHByaXZhdGUgU3RyaW5nIGxuYW07DQogIHByaXZhdGUgYm9vbGVhbiBmb3VuZDsNCiAgDQoNCiAgcHJpdmF0ZSBpbnQgWFhDT05POw0KIA0KIC8qDQogICogQWRkIFB1cmNoYXNlIEF1dGhvcmlzYXRpb24gZXh0ZW5zaW9uIHRhYmxlIHJvdw0KICovDQogIHB1YmxpYyBBZGQoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBNSUNhbGxlckFQSSBtaUNhbGxlciwgTG9nZ2VyQVBJIGxvZ2dlciwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBJb25BUEkgaW9uKSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgCXRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcjsNCiAgCXRoaXMubG9nZ2VyID0gbG9nZ2VyOw0KICAJdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCgkgIHRoaXMuaW9uID0gaW9uOw0KCSAgDQogIH0NCiAgDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgDQogIAlwdW5vID0gbWkuaW5EYXRhLmdldCgiUFVOTyIpID09IG51bGwgPyAnJyA6IG1pLmluRGF0YS5nZXQoIlBVTk8iKS50cmltKCk7DQogIAlpZiAocHVubyA9PSAiPyIpIHsNCiAgCSAgcHVubyA9ICIiOw0KICAJfSANCiAgCXBubGkgPSBtaS5pbkRhdGEuZ2V0KCJQTkxJIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiUE5MSSIpLnRyaW0oKTsNCiAgCWlmIChwbmxpID09ICI/Iikgew0KICAJICBwbmxpID0gIjAiOw0KICAJfSANCiAgCXBubHMgPSBtaS5pbkRhdGEuZ2V0KCJQTkxTIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiUE5MUyIpLnRyaW0oKTsNCiAgCWlmIChwbmxzID09ICI/Iikgew0KICAJICBwbmxzID0gIjAiOw0KICAJfSANCiAgCWFwcHIgPSBtaS5pbkRhdGEuZ2V0KCJBUFBSIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiQVBQUiIpLnRyaW0oKTsNCiAgCWlmIChhcHByID09ICI/Iikgew0KICAJICBhcHByID0gIiI7DQogIAl9IA0KICAJYXN0cyA9IG1pLmluRGF0YS5nZXQoIkFTVFMiKSA9PSBudWxsID8gJycgOiBtaS5pbkRhdGEuZ2V0KCJBU1RTIikudHJpbSgpOw0KICAJaWYgKGFzdHMgPT0gIj8iKSB7DQogIAkgIGFzdHMgPSAiIjsNCiAgCX0gDQogIAlzdW5vID0gbWkuaW5EYXRhLmdldCgiU1VOTyIpID09IG51bGwgPyAnJyA6IG1pLmluRGF0YS5nZXQoIlNVTk8iKS50cmltKCk7DQogIAlpZiAoc3VubyA9PSAiPyIpIHsNCiAgCSAgc3VubyA9ICIiOw0KICAJfQ0KICAJb3J0eSA9IG1pLmluRGF0YS5nZXQoIk9SVFkiKSA9PSBudWxsID8gJycgOiBtaS5pbkRhdGEuZ2V0KCJPUlRZIikudHJpbSgpOw0KICAJaWYgKG9ydHkgPT0gIj8iKSB7DQogIAkgIG9ydHkgPSAiIjsNCiAgCX0NCiAgCXB1cHIgPSBtaS5pbkRhdGEuZ2V0KCJQVVBSIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiUFVQUiIpLnRyaW0oKTsNCiAgCWlmIChwdXByID09ICI/Iikgew0KICAJICBwdXByID0gIjAiOw0KICAJfQ0KICAJdXNpZCA9IG1pLmluRGF0YS5nZXQoIlVTSUQiKSA9PSBudWxsID8gJycgOiBtaS5pbkRhdGEuZ2V0KCJVU0lEIikudHJpbSgpOw0KICAJaWYgKHVzaWQgPT0gIj8iKSB7DQogIAkgIHVzaWQgPSAiIjsNCiAgCX0NCiAgCW9ycWEgPSBtaS5pbkRhdGEuZ2V0KCJPUlFBIikgPT0gbnVsbCA/ICcnIDogbWkuaW5EYXRhLmdldCgiT1JRQSIpLnRyaW0oKTsNCiAgCWlmIChvcnFhID09ICI/Iikgew0KICAJICBvcnFhID0gIjAiOw0KICAJfQ0KICAJbG5hbSA9IG1pLmluRGF0YS5nZXQoIkxOQU0iKSA9PSBudWxsID8gJycgOiBtaS5pbkRhdGEuZ2V0KCJMTkFNIikudHJpbSgpOw0KICAJaWYgKGxuYW0gPT0gIj8iKSB7DQogIAkgIGxuYW0gPSAiMCI7DQogIAl9DQogIAkNCiAgCWlmIChwbmxpLmlzRW1wdHkoKSkgeyBwbmxpID0gIjAiOyAgfQ0KICAJaWYgKHBubHMuaXNFbXB0eSgpKSB7IHBubHMgPSAiMCI7ICB9DQogIAlpZiAocHVwci5pc0VtcHR5KCkpIHsgcHVwciA9ICIwIjsgIH0NCiAgCWlmIChvcnFhLmlzRW1wdHkoKSkgeyBvcnFhID0gIjAiOyAgfQ0KICAJaWYgKGxuYW0uaXNFbXB0eSgpKSB7IGxuYW0gPSAiMCI7ICB9DQoNCgkJWFhDT05PID0gKEludGVnZXIpcHJvZ3JhbS5MREFaRC5DT05POw0KDQogICAgLy8gVmFsaWRhdGUgaW5wdXQgZmllbGRzICAJDQoJCWlmIChwdW5vLmlzRW1wdHkoKSkgew0KICAgICAgbWkuZXJyb3IoIlB1cmNoYXNlIE9yZGVyIG11c3QgYmUgZW50ZXJlZCIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZiAoYXN0cy5pc0VtcHR5KCkpIHsNCiAgICAgIG1pLmVycm9yKCJBdXRob3Jpc2F0aW9uIHN0YXR1cyBtdXN0IGJlIGVudGVyZWQiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgLy8gLSB2YWxpZGF0ZSBwdW5vDQogICAgaWYgKCFwdW5vLmlzRW1wdHkoKSkgew0KICAgIERCQWN0aW9uIHF1ZXJ5TVBMSU5FID0gZGF0YWJhc2UudGFibGUoIk1QTElORSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiSUJQVU5PIiwgIklCUE5MSSIsICJJQlBOTFMiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIE1QTElORSA9IHF1ZXJ5TVBMSU5FLmdldENvbnRhaW5lcigpOw0KICAgIE1QTElORS5zZXQoIklCQ09OTyIsIFhYQ09OTyk7DQogICAgTVBMSU5FLnNldCgiSUJQVU5PIiwgcHVubyk7DQogICAgTVBMSU5FLnNldCgiSUJQTkxJIiwgcG5saS50b0ludGVnZXIoKSk7DQogICAgTVBMSU5FLnNldCgiSUJQTkxTIiwgcG5scy50b0ludGVnZXIoKSk7DQogICAgaWYgKCFxdWVyeU1QTElORS5yZWFkKE1QTElORSkpIHsNCiAgICANCiAgCSAgZm91bmQgPSBmYWxzZTsNCiAgICAgIERCQWN0aW9uIHF1ZXJ5TVBPUExQID0gZGF0YWJhc2UudGFibGUoIk1QT1BMUCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiUE9DT05PIiwgIlBPUExQTiIsICJQT1BMUFMiLCAiUE9QTFAyIikuYnVpbGQoKTsNCiAgICAgIERCQ29udGFpbmVyIE1QT1BMUCA9IHF1ZXJ5TVBPUExQLmdldENvbnRhaW5lcigpOw0KICAgICAgTVBPUExQLnNldCgiUE9DT05PIiwgWFhDT05PKTsNCiAgICAgIE1QT1BMUC5zZXQoIlBPUExQTiIsIHB1bm8udG9JbnRlZ2VyKCkpOw0KICAgICAgTVBPUExQLnNldCgiUE9QTFBTIiwgcG5saS50b0ludGVnZXIoKSk7DQogICAgICBNUE9QTFAuc2V0KCJQT1BMUDIiLCBwbmxzLnRvSW50ZWdlcigpKTsNCiAgICAgIGlmICghcXVlcnlNUE9QTFAucmVhZChNUE9QTFApKSB7DQogICAgICAgIG1pLmVycm9yKCJQTyBsaW5lIG51bWJlciBvciBQcm9wb3NhbCBudW1iZXIgaW52YWxpZCIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgfQ0KICB9DQogIA0KICAgIGlmICghYXN0cy5lcXVhbHMoIkF1dGhvcmlzZWQiKSAmJiAhYXN0cy5lcXVhbHMoIkNhbmNlbGxlZCIpICYmICFhc3RzLmVxdWFscygiRGVjbGluZWQiKSAmJiAhYXN0cy5lcXVhbHMoIlNlbnQgZm9yIGFwcHJvdmFsIikgJiYgIWFzdHMuZXF1YWxzKCJDYW5jZWxsaW5nIHdvcmtmbG93IikgJiYgIWFzdHMuZXF1YWxzKCJVbmRlciBhdXRob3Jpc2F0aW9uIikpIHsNCiAgICAgIG1pLmVycm9yKCJJbnZhbGlkIGF1dGhvcmlzYXRpb24gc3RhdHVzIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vIC0gdmFsaWRhdGUgYXBwcm92ZXINCiAgICBpZiAoIWFwcHIuaXNFbXB0eSgpKSB7DQogICAgICBEQkFjdGlvbiBxdWVyeUNNTlVTUiA9IGRhdGFiYXNlLnRhYmxlKCJDTU5VU1IiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkpVVVNJRCIpLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBDTU5VU1IgPSBxdWVyeUNNTlVTUi5nZXRDb250YWluZXIoKTsNCiAgICAgIENNTlVTUi5zZXQoIkpVQ09OTyIsIDApOw0KICAgICAgQ01OVVNSLnNldCgiSlVESVZJIiwgIiIpOw0KICAgICAgQ01OVVNSLnNldCgiSlVVU0lEIiwgYXBwcik7DQogICAgICBpZiAoIXF1ZXJ5Q01OVVNSLnJlYWQoQ01OVVNSKSkgew0KICAgICAgICBtaS5lcnJvcigiQXBwcm92ZXIgaXMgaW52YWxpZC4iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0NCiAgICAvLyAtIHZhbGlkYXRlIHVzZXINCiAgICBpZiAoIXVzaWQuaXNFbXB0eSgpKSB7DQogICAgICBEQkFjdGlvbiBxdWVyeUNNTlVTUiA9IGRhdGFiYXNlLnRhYmxlKCJDTU5VU1IiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkpVVVNJRCIpLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBDTU5VU1IgPSBxdWVyeUNNTlVTUi5nZXRDb250YWluZXIoKTsNCiAgICAgIENNTlVTUi5zZXQoIkpVQ09OTyIsIDApOw0KICAgICAgQ01OVVNSLnNldCgiSlVESVZJIiwgIiIpOw0KICAgICAgQ01OVVNSLnNldCgiSlVVU0lEIiwgdXNpZCk7DQogICAgICBpZiAoIXF1ZXJ5Q01OVVNSLnJlYWQoQ01OVVNSKSkgew0KICAgICAgICBtaS5lcnJvcigiVXNlciBpcyBpbnZhbGlkLiIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgfQ0KICAgIC8vIC0gdmFsaWRhdGUgc3VwcGxpZXINCiAgICBpZiAoIXN1bm8uaXNFbXB0eSgpKSB7DQogICAgICBEQkFjdGlvbiBxdWVyeUNJRE1BUyA9IGRhdGFiYXNlLnRhYmxlKCJDSURNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIklEU1VOTyIpLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBDSURNQVMgPSBxdWVyeUNJRE1BUy5nZXRDb250YWluZXIoKTsNCiAgICAgIENJRE1BUy5zZXQoIklEQ09OTyIsIFhYQ09OTyk7DQogICAgICBDSURNQVMuc2V0KCJJRFNVTk8iLCBzdW5vKTsNCiAgICAgIGlmICghcXVlcnlDSURNQVMucmVhZChDSURNQVMpKSB7DQogICAgICAgIG1pLmVycm9yKCJTdXBwbGllciBpcyBpbnZhbGlkLiIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgfQ0KICAgIC8vIC0gdmFsaWRhdGUgb3JkZXIgdHlwZQ0KICAgIGlmICghb3J0eS5pc0VtcHR5KCkpIHsNCiAgICAgIERCQWN0aW9uIHF1ZXJ5TVBPUkRUID0gZGF0YWJhc2UudGFibGUoIk1QT1JEVCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiT1RPUlRZIikuYnVpbGQoKTsNCiAgICAgIERCQ29udGFpbmVyIE1QT1JEVCA9IHF1ZXJ5TVBPUkRULmdldENvbnRhaW5lcigpOw0KICAgICAgTVBPUkRULnNldCgiT1RDT05PIiwgWFhDT05PKTsNCiAgICAgIE1QT1JEVC5zZXQoIk9UT1JUWSIsIG9ydHkpOw0KICAgICAgaWYgKCFxdWVyeU1QT1JEVC5yZWFkKE1QT1JEVCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIk9yZGVyIHR5cGUgaXMgaW52YWxpZC4iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0NCiAgICB3cml0ZUVYVEFQUihwdW5vLCBhcHByLCBhc3RzKTsNCiAgfQ0KICAvKioNCiAgKiB3cml0ZUVYVEFQUiAtIFdyaXRlIFB1cmNoYXNlIEF1dGhvcmlzYXRpb24gZXh0ZW5zaW9uIHRhYmxlIEVYVEFQUg0KICAqDQogICovDQogIGRlZiB3cml0ZUVYVEFQUihTdHJpbmcgcHVubywgU3RyaW5nIGFwcHIsIFN0cmluZyBhc3RzKSB7DQoJICAvL0N1cnJlbnQgZGF0ZSBhbmQgdGltZQ0KICAJaW50IGN1cnJlbnREYXRlID0gTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpOw0KICAJaW50IGN1cnJlbnRUaW1lID0gSW50ZWdlci52YWx1ZU9mKExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpKTsNCiAgCQ0KCSAgREJBY3Rpb24gYWN0aW9uRVhUQVBSID0gZGF0YWJhc2UudGFibGUoIkVYVEFQUiIpLmJ1aWxkKCk7DQogIAlEQkNvbnRhaW5lciBFWFRBUFIgPSBhY3Rpb25FWFRBUFIuZ2V0Q29udGFpbmVyKCk7DQogIAlFWFRBUFIuc2V0KCJFWENPTk8iLCBYWENPTk8pOw0KICAJRVhUQVBSLnNldCgiRVhQVU5PIiwgcHVubyk7DQogIAlFWFRBUFIuc2V0KCJFWFBOTEkiLCBwbmxpLnRvSW50ZWdlcigpKTsNCiAgCUVYVEFQUi5zZXQoIkVYUE5MUyIsIHBubHMudG9JbnRlZ2VyKCkpOw0KICAJRVhUQVBSLnNldCgiRVhBUFBSIiwgYXBwcik7DQogIAlFWFRBUFIuc2V0KCJFWEFTVFMiLCBhc3RzKTsNCiAgCUVYVEFQUi5zZXQoIkVYU1VOTyIsIHN1bm8pOw0KICAJRVhUQVBSLnNldCgiRVhPUlRZIiwgb3J0eSk7DQogIAlFWFRBUFIuc2V0KCJFWFBVUFIiLCBwdXByLnRvRG91YmxlKCkpOw0KICAJRVhUQVBSLnNldCgiRVhSR0RUIiwgY3VycmVudERhdGUpOw0KICAJRVhUQVBSLnNldCgiRVhSR1RNIiwgY3VycmVudFRpbWUpOw0KICAJRVhUQVBSLnNldCgiRVhMTURUIiwgY3VycmVudERhdGUpOw0KICAJRVhUQVBSLnNldCgiRVhDSE5PIiwgMCk7DQogIAlFWFRBUFIuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSk7DQogIAlFWFRBUFIuc2V0KCJFWFVTSUQiLCB1c2lkKTsNCiAgCUVYVEFQUi5zZXQoIkVYT1JRQSIsIG9ycWEudG9Eb3VibGUoKSk7DQogIAlFWFRBUFIuc2V0KCJFWExOQU0iLCBsbmFtLnRvRG91YmxlKCkpOw0KICAJYWN0aW9uRVhUQVBSLmluc2VydChFWFRBUFIsIHJlY29yZEV4aXN0cyk7DQoJfQ0KICAvKioNCiAgICogcmVjb3JkRXhpc3RzIC0gcmV0dXJuIHJlY29yZCBhbHJlYWR5IGV4aXN0cyBlcnJvciBtZXNzYWdlIHRvIHRoZSBNSQ0KICAgKg0KICAqLw0KICBDbG9zdXJlIHJlY29yZEV4aXN0cyA9IHsNCgkgIG1pLmVycm9yKCJSZWNvcmQgYWxyZWFkeSBleGlzdHMiKTsNCiAgfQ0KICANCn0=\"}}}"}